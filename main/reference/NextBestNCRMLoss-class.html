<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>NextBestNCRMLoss — NextBestNCRMLoss-class • crmPack</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="NextBestNCRMLoss — NextBestNCRMLoss-class"><meta name="description" content="
NextBestNCRMLoss is the class based on NCRM rule and loss function.
This class is similar to NextBestNCRM class, but differences are the
addition of loss function and re-defined toxicity intervals, see each
toxicity interval documentation and the note for details. As in NCRM rule, first admissible doses are found,
which are those with probability to fall in overdose category being below
max_overdose_prob. Next, within the admissible doses, the loss function is
calculated, i.e. losses %*% target. Finally, the corresponding
dose with lowest loss function (Bayes risk) is recommended for the next dose."><meta property="og:description" content="
NextBestNCRMLoss is the class based on NCRM rule and loss function.
This class is similar to NextBestNCRM class, but differences are the
addition of loss function and re-defined toxicity intervals, see each
toxicity interval documentation and the note for details. As in NCRM rule, first admissible doses are found,
which are those with probability to fall in overdose category being below
max_overdose_prob. Next, within the admissible doses, the loss function is
calculated, i.e. losses %*% target. Finally, the corresponding
dose with lowest loss function (Bayes risk) is recommended for the next dose."><meta property="og:image" content="https://openpharma.github.io/crmPack/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="default" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">crmPack</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/trial_definition.html">Trial Definition</a></li>
    <li><a class="dropdown-item" href="../articles/trial_analysis.html">Trial Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/trial_sanity_checks.html">Trial Design: basic sanity checks</a></li>
    <li><a class="dropdown-item" href="../articles/trial_simulation.html">Trial Simulation</a></li>
    <li><a class="dropdown-item" href="../articles/ordinal-crm.html">Ordinal CRM</a></li>
    <li><a class="dropdown-item" href="../articles/rolling-crm.html">Rolling CRM Example</a></li>
    <li><a class="dropdown-item" href="../articles/simulations.html">Simulation study example</a></li>
    <li><a class="dropdown-item" href="../articles/knit_print.html">Describing `crmPack` Objects</a></li>
    <li><a class="dropdown-item" href="../articles/tidy_method.html">Using tidy</a></li>
    <li><a class="dropdown-item" href="../articles/migration_from_the_old_crmPack.html">Migrating from crmPack version 1.0.3</a></li>
    <li><a class="dropdown-item" href="../articles/parallel_computing_with_extensions.html">Parallel computing with extensions</a></li>
    <li><a class="dropdown-item" href="../articles/crmPack-jss-paper.html">Model-based Dose Escalation Designs in R with crmPack (JSS manuscript)</a></li>
    <li><a class="dropdown-item" href="../articles/example.html">crmPack: Object-oriented implementation of CRM designs</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://openpharma.github.io/crmPack/main">main</a> </div></li>
<!-- end dropdown for versions -->
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-reports" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Reports</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-reports"><li><a class="dropdown-item" href="../coverage-report/">Coverage report</a></li>
    <li><a class="dropdown-item" href="../unit-test-report/">Unit test report</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/openpharma/crmPack" aria-label="View on GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1><code>NextBestNCRMLoss</code></h1>
      <small class="dont-index">Source: <a href="https://github.com/openpharma/crmPack/blob/main/R/Rules-class.R" class="external-link"><code>R/Rules-class.R</code></a></small>
      <div class="d-none name"><code>NextBestNCRMLoss-class.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
<p><code>NextBestNCRMLoss</code> is the class based on NCRM rule and loss function.
This class is similar to <code><a href="NextBestNCRM-class.html">NextBestNCRM</a></code> class, but differences are the
addition of loss function and re-defined toxicity intervals, see each
toxicity interval documentation and the note for details. As in NCRM rule, first admissible doses are found,
which are those with probability to fall in overdose category being below
<code>max_overdose_prob</code>. Next, within the admissible doses, the loss function is
calculated, i.e. <code>losses</code> %*% <code>target</code>. Finally, the corresponding
dose with lowest loss function (Bayes risk) is recommended for the next dose.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">NextBestNCRMLoss</span><span class="op">(</span></span>
<span>  <span class="va">target</span>,</span>
<span>  <span class="va">overdose</span>,</span>
<span>  unacceptable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">max_overdose_prob</span>,</span>
<span>  <span class="va">losses</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">.DefaultNextBestNCRMLoss</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-target">target<a class="anchor" aria-label="anchor" href="#arg-target"></a></dt>
<dd><p>(<code>numeric</code>)<br> see slot definition.</p></dd>


<dt id="arg-overdose">overdose<a class="anchor" aria-label="anchor" href="#arg-overdose"></a></dt>
<dd><p>(<code>numeric</code>)<br> see slot definition.</p></dd>


<dt id="arg-unacceptable">unacceptable<a class="anchor" aria-label="anchor" href="#arg-unacceptable"></a></dt>
<dd><p>(<code>numeric</code>)<br> see slot definition.</p></dd>


<dt id="arg-max-overdose-prob">max_overdose_prob<a class="anchor" aria-label="anchor" href="#arg-max-overdose-prob"></a></dt>
<dd><p>(<code>proportion</code>)<br> see slot definition in <code><a href="NextBestNCRM-class.html">NextBestNCRM</a></code>.</p></dd>


<dt id="arg-losses">losses<a class="anchor" aria-label="anchor" href="#arg-losses"></a></dt>
<dd><p>(<code>numeric</code>)<br> see slot definition.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="slots">Slots<a class="anchor" aria-label="anchor" href="#slots"></a></h2>


<dl><dt><code>target</code></dt>
<dd><p>(<code>numeric</code>)<br> the target toxicity interval (limits included).
It has to be a probability range excluding 0 and 1.</p></dd>


<dt><code>overdose</code></dt>
<dd><p>(<code>numeric</code>)<br> the overdose toxicity interval (lower limit
excluded, upper limit included) or the excessive toxicity interval (lower
limit excluded, upper limit included) if unacceptable is not provided.
It has to be a probability range. It is used to filter probability samples.</p></dd>


<dt><code>unacceptable</code></dt>
<dd><p>(<code>numeric</code>)<br> an unacceptable toxicity
interval (lower limit excluded, upper limit included). This must be
specified if the <code>overdose</code> does not include 1. Otherwise, it is <code>c(1, 1)</code>
(default), which is essentially a scalar equals 1. It has to be a
probability range.</p></dd>


<dt><code>losses</code></dt>
<dd><p>(<code>numeric</code>)<br> a vector specifying the loss function. If the
<code>unacceptable</code> is provided, the vector length must be 4, otherwise 3.</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>The loss function should be a vector of either 3 or 4 values.
This is because the loss function values must be specified for each
interval, that is under-dosing, target toxicity, and overdosing toxicity or
under-dosing, target toxicity, overdosing (excessive) toxicity, and
unacceptable toxicity intervals.</p>
<p>Typically, end users will not use the <code>.DefaultNextBestnCRMLoss()</code> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># In the example below, the target toxicity interval [0.2, 0.35] while the</span></span></span>
<span class="r-in"><span><span class="co"># overdose interval is (0.35, 1]. We would like to constrain the probability</span></span></span>
<span class="r-in"><span><span class="co"># of overdosing below 25%. The loss function is c(1, 0, 1, 2).</span></span></span>
<span class="r-in"><span><span class="va">my_next_best</span> <span class="op">&lt;-</span> <span class="fu">NextBestNCRMLoss</span><span class="op">(</span></span></span>
<span class="r-in"><span>  target <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.35</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  overdose <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.35</span>, <span class="fl">0.6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  unacceptable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  max_overdose_prob <span class="op">=</span> <span class="fl">0.25</span>,</span></span>
<span class="r-in"><span>  losses <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Daniel Sabanes Bove, Wai Yin Yeung, Burak Kuersad Guenhan, Giuseppe Palermo, Thomas Jaki, Jiawen Zhu, Ziwei Liao, Dimitris Kontos, Marlene Schulte-Goebel, Doug Kelkhoff, Oliver Boix, Robert Adams, Clara Beck, John Kirkpatrick, F. Hoffmann-La Roche AG, Merck Healthcare KGaA, Bayer AG.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

