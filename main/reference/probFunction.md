# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.413211578 0.282523940 0.389241843 0.644250290 0.594179442 0.662210101
#>    [7] 0.436511283 0.153828422 0.277058235 0.218113220 0.230943590 0.287965167
#>   [13] 0.167336382 0.123037795 0.275085626 0.339177415 0.394991270 0.153074947
#>   [19] 0.173748474 0.197784703 0.391388001 0.418996804 0.240404039 0.196469465
#>   [25] 0.293774970 0.339595273 0.389027505 0.099308572 0.114522542 0.152758969
#>   [31] 0.111139447 0.147740335 0.549760810 0.328819173 0.316332264 0.329925185
#>   [37] 0.159353045 0.158262061 0.532765701 0.343666784 0.184911220 0.320628176
#>   [43] 0.164592672 0.070850141 0.307646391 0.237359351 0.420723157 0.373090223
#>   [49] 0.098855915 0.294267951 0.296607786 0.336344141 0.122799814 0.153924469
#>   [55] 0.269842456 0.063774020 0.412523957 0.162411940 0.249215643 0.242652111
#>   [61] 0.094824108 0.137143936 0.210452899 0.506788046 0.437080533 0.431513075
#>   [67] 0.169436726 0.052473924 0.105899567 0.105425113 0.097495553 0.198633064
#>   [73] 0.513297913 0.064435145 0.148797960 0.299662121 0.156381006 0.140195772
#>   [79] 0.101838855 0.196219305 0.235054742 0.440353759 0.157773018 0.070917882
#>   [85] 0.569106537 0.108569386 0.179582990 0.122237888 0.164343752 0.169788894
#>   [91] 0.164298046 0.261097137 0.028453896 0.480630433 0.081391502 0.108100222
#>   [97] 0.157830617 0.320750146 0.393078523 0.159976857 0.103460921 0.228057077
#>  [103] 0.181399441 0.278473546 0.010481296 0.019852595 0.062941779 0.169084757
#>  [109] 0.180425899 0.178713772 0.219876253 0.024366118 0.106268840 0.220119440
#>  [115] 0.354004063 0.191953910 0.264484233 0.235173239 0.154306534 0.110245440
#>  [121] 0.090514499 0.150803938 0.213709729 0.054755357 0.039664989 0.033798658
#>  [127] 0.146522967 0.055020216 0.106254612 0.306826423 0.082358930 0.331353157
#>  [133] 0.073156460 0.390591273 0.529089179 0.506000384 0.338091058 0.166965415
#>  [139] 0.444083980 0.302936043 0.097267077 0.076414992 0.132461632 0.244978770
#>  [145] 0.161335980 0.132092484 0.138273357 0.244451683 0.366798964 0.257596955
#>  [151] 0.234184721 0.633958432 0.149826906 0.290009771 0.108990112 0.344827066
#>  [157] 0.182186132 0.235218099 0.312239703 0.307782145 0.192087098 0.124253091
#>  [163] 0.336613828 0.173152241 0.402189695 0.112339897 0.114357894 0.278603360
#>  [169] 0.286990612 0.245898234 0.095952329 0.169244043 0.193616727 0.198488702
#>  [175] 0.209604611 0.447044221 0.120740525 0.048008535 0.350521488 0.360244324
#>  [181] 0.218753344 0.353722955 0.379080782 0.237636689 0.273067422 0.190254047
#>  [187] 0.137759775 0.080795114 0.138747339 0.364484783 0.299344782 0.308234423
#>  [193] 0.383210097 0.609115307 0.167740866 0.438437401 0.225689554 0.116083100
#>  [199] 0.226586005 0.507206868 0.291092449 0.257879520 0.291248592 0.336025062
#>  [205] 0.410252935 0.504964765 0.287823797 0.261537632 0.322124375 0.212278000
#>  [211] 0.585394294 0.543295841 0.693803531 0.153125223 0.091651471 0.313616847
#>  [217] 0.372096806 0.132484783 0.143128537 0.468925152 0.148733366 0.370774121
#>  [223] 0.210151132 0.298320373 0.265904625 0.427883765 0.080100507 0.445709467
#>  [229] 0.363632130 0.259116943 0.236825681 0.174745682 0.377616222 0.479061163
#>  [235] 0.131264459 0.327098124 0.367590871 0.306562407 0.095845391 0.177717519
#>  [241] 0.291117603 0.304084858 0.033834162 0.232820821 0.289035624 0.104582717
#>  [247] 0.159296256 0.037811459 0.472901837 0.355464488 0.162665175 0.155821128
#>  [253] 0.128419998 0.102126410 0.230612139 0.366799663 0.367049879 0.304798909
#>  [259] 0.006280173 0.011702342 0.082793217 0.079391157 0.088193543 0.118586218
#>  [265] 0.341498133 0.596652107 0.284590322 0.233322491 0.190502696 0.023012029
#>  [271] 0.190043141 0.406440154 0.218953799 0.133229600 0.161731867 0.566362354
#>  [277] 0.075269372 0.357401496 0.116287708 0.131542543 0.330535108 0.213824038
#>  [283] 0.291936014 0.176277277 0.232509689 0.273443007 0.334725732 0.266452871
#>  [289] 0.221910530 0.246684198 0.151591585 0.062977411 0.601814067 0.472794038
#>  [295] 0.202468378 0.235347230 0.370469783 0.094641722 0.567825413 0.484452283
#>  [301] 0.125690869 0.588282494 0.259578133 0.412708227 0.416669730 0.164922305
#>  [307] 0.154685390 0.023201505 0.068326705 0.307831331 0.228968781 0.154171614
#>  [313] 0.193668225 0.276029205 0.198446262 0.247884744 0.203903622 0.108861733
#>  [319] 0.073669219 0.133820678 0.237517393 0.338925414 0.207173625 0.358366857
#>  [325] 0.292031053 0.508639206 0.213901995 0.190969594 0.170853867 0.086105215
#>  [331] 0.077981314 0.038475891 0.037272503 0.293388675 0.133844996 0.141552711
#>  [337] 0.289871107 0.185779430 0.416401607 0.326190885 0.373614406 0.101111053
#>  [343] 0.281214008 0.270958994 0.145436620 0.365655104 0.125195241 0.577595629
#>  [349] 0.636192550 0.185140649 0.267406877 0.174920448 0.103524012 0.217917757
#>  [355] 0.310457776 0.365635312 0.374001951 0.374174222 0.228967402 0.342555083
#>  [361] 0.456971354 0.528684670 0.227621294 0.323961171 0.425895514 0.399573643
#>  [367] 0.145196660 0.166810412 0.309125544 0.089318669 0.132097674 0.084650101
#>  [373] 0.096936885 0.134957913 0.308404295 0.247112523 0.161399013 0.144434032
#>  [379] 0.507593630 0.307505880 0.200055523 0.458319894 0.126419454 0.224973850
#>  [385] 0.163129390 0.223948254 0.130710113 0.016213652 0.081265551 0.039133768
#>  [391] 0.304351303 0.107654421 0.184095821 0.063598588 0.133347214 0.216826014
#>  [397] 0.166506982 0.211884657 0.272218600 0.261153484 0.081913101 0.187585681
#>  [403] 0.221132222 0.342510348 0.056587118 0.023923270 0.488237952 0.104515616
#>  [409] 0.148043736 0.413954287 0.203850927 0.191311401 0.372510688 0.305080254
#>  [415] 0.628372644 0.159243450 0.193566485 0.059979445 0.096792083 0.368859128
#>  [421] 0.293394088 0.143887323 0.353819454 0.226321890 0.421180447 0.287325282
#>  [427] 0.574907472 0.712183371 0.255974759 0.215827201 0.233269936 0.160613505
#>  [433] 0.249279196 0.375903611 0.268491723 0.102800493 0.300364644 0.437012962
#>  [439] 0.377410908 0.352848677 0.164311877 0.307864619 0.220830259 0.178024236
#>  [445] 0.492896214 0.107814236 0.029985032 0.116427164 0.273341384 0.185843486
#>  [451] 0.164281089 0.084022654 0.325525510 0.333005656 0.555471433 0.298481861
#>  [457] 0.171204641 0.388406978 0.244221748 0.195825545 0.246683176 0.148706377
#>  [463] 0.387738788 0.038825255 0.076550366 0.243944049 0.324067636 0.311519345
#>  [469] 0.323648923 0.455194899 0.201695990 0.152503132 0.200313826 0.219830244
#>  [475] 0.290317295 0.511793781 0.279420390 0.277891707 0.479466986 0.192670733
#>  [481] 0.507069676 0.388767109 0.195298843 0.399468350 0.273767731 0.309622679
#>  [487] 0.536570728 0.318366773 0.203007466 0.105656824 0.559429625 0.476543763
#>  [493] 0.065560788 0.200361670 0.558520652 0.226652401 0.213937838 0.333474767
#>  [499] 0.419221338 0.130094162 0.144377024 0.299148942 0.064408525 0.043453342
#>  [505] 0.284914438 0.258742495 0.375383052 0.302049469 0.492001673 0.284255517
#>  [511] 0.323710884 0.540890381 0.400303182 0.429365349 0.046843266 0.429545965
#>  [517] 0.196155841 0.252164337 0.180165745 0.142761636 0.342397411 0.209198097
#>  [523] 0.344551896 0.146624895 0.100059550 0.420319506 0.248835449 0.281941849
#>  [529] 0.221848334 0.174666796 0.288921753 0.179429444 0.174834309 0.203785157
#>  [535] 0.401748089 0.376306089 0.369631499 0.521335616 0.076899338 0.055789373
#>  [541] 0.091164629 0.199514909 0.137634479 0.321648027 0.069622197 0.029935903
#>  [547] 0.050321064 0.070719304 0.436974612 0.380938468 0.246731420 0.279120971
#>  [553] 0.135006608 0.274031311 0.285138021 0.133063219 0.163679129 0.110605339
#>  [559] 0.598416283 0.227970714 0.406460825 0.217892013 0.282250324 0.294597121
#>  [565] 0.300988971 0.057442521 0.227035707 0.305775798 0.178420819 0.402811447
#>  [571] 0.107472755 0.131791184 0.346321118 0.120385547 0.505327388 0.165837579
#>  [577] 0.090262266 0.106884172 0.131180730 0.280957409 0.362236349 0.298323492
#>  [583] 0.389234370 0.472174570 0.188435046 0.405998728 0.138916072 0.235730550
#>  [589] 0.116674319 0.139652018 0.142354806 0.084920624 0.102773080 0.074592639
#>  [595] 0.067723994 0.407426367 0.292193594 0.207426911 0.297967012 0.222602960
#>  [601] 0.321672912 0.038627220 0.113928949 0.181326494 0.264462226 0.722429806
#>  [607] 0.261301827 0.363713469 0.358537084 0.024490671 0.033045854 0.087307655
#>  [613] 0.091234693 0.121994187 0.350605051 0.151228598 0.136506955 0.349786527
#>  [619] 0.136328524 0.158844284 0.170945283 0.235016159 0.072089953 0.026773064
#>  [625] 0.609827990 0.178264029 0.138641724 0.089281288 0.165652262 0.118891793
#>  [631] 0.406320043 0.436832459 0.291949558 0.096830466 0.283641000 0.178457598
#>  [637] 0.126322982 0.158511238 0.255975964 0.116491667 0.261068864 0.116908471
#>  [643] 0.435573300 0.171136600 0.231496663 0.079897572 0.291918518 0.155029732
#>  [649] 0.094661088 0.115006509 0.198652288 0.445734279 0.210558428 0.118813022
#>  [655] 0.209080610 0.332480859 0.249257167 0.087311235 0.292867029 0.034834663
#>  [661] 0.054478590 0.183879929 0.247978752 0.138303641 0.042169870 0.175464274
#>  [667] 0.124013590 0.137943872 0.177363475 0.280259986 0.397990783 0.146420869
#>  [673] 0.221415322 0.148523018 0.209634502 0.414003522 0.150997008 0.146110203
#>  [679] 0.070136332 0.231605701 0.109626513 0.050983425 0.539663296 0.425482677
#>  [685] 0.197357857 0.140709762 0.244394208 0.199603797 0.329684774 0.271863967
#>  [691] 0.161888321 0.200902442 0.189636314 0.186559039 0.205296584 0.226326942
#>  [697] 0.289804306 0.155177197 0.124722304 0.158894969 0.204789265 0.030930283
#>  [703] 0.154700444 0.364751986 0.371652396 0.258737581 0.532782229 0.127166071
#>  [709] 0.515092377 0.289323570 0.308173056 0.147655932 0.159882495 0.083107552
#>  [715] 0.137356167 0.309662858 0.427306960 0.257542395 0.385210848 0.227451884
#>  [721] 0.098699167 0.124247013 0.186818259 0.251860954 0.122151478 0.134616586
#>  [727] 0.083863710 0.042799373 0.073522022 0.457536282 0.097325177 0.206634438
#>  [733] 0.489140415 0.324241491 0.284368832 0.233642396 0.402767278 0.274629034
#>  [739] 0.367227088 0.264599486 0.127890949 0.332234555 0.400382210 0.081870164
#>  [745] 0.217051085 0.284828676 0.192102401 0.655569874 0.132744514 0.178970384
#>  [751] 0.236768601 0.192377638 0.304943337 0.288864769 0.260597452 0.160067160
#>  [757] 0.263444194 0.104304069 0.086325540 0.093263183 0.201941077 0.425575331
#>  [763] 0.179452703 0.260059992 0.238453655 0.136863397 0.617052256 0.124792367
#>  [769] 0.248764145 0.269818532 0.283005536 0.338814378 0.365819152 0.594400257
#>  [775] 0.486942174 0.473940368 0.181896412 0.080710012 0.031440680 0.046265803
#>  [781] 0.034209572 0.034078001 0.381825610 0.430823592 0.268762043 0.097313178
#>  [787] 0.152806148 0.112862807 0.222886080 0.042423555 0.457985572 0.165379118
#>  [793] 0.412256604 0.315745522 0.182868265 0.291795941 0.245597486 0.177232065
#>  [799] 0.181536473 0.151313924 0.434338587 0.197348883 0.321320861 0.290817992
#>  [805] 0.453321955 0.325988214 0.342353594 0.314670606 0.423852534 0.120094337
#>  [811] 0.077658212 0.103795605 0.100601945 0.310030993 0.247380369 0.295789629
#>  [817] 0.146440560 0.213058869 0.242217189 0.129484597 0.461774542 0.646358214
#>  [823] 0.635849794 0.316143258 0.327505824 0.209231972 0.261597782 0.347289661
#>  [829] 0.063628379 0.103663463 0.346539133 0.215190363 0.039650771 0.044811115
#>  [835] 0.196430339 0.121158893 0.334089304 0.263056495 0.097817691 0.249873868
#>  [841] 0.168486191 0.125297047 0.319517731 0.267546897 0.258031468 0.173171161
#>  [847] 0.275081733 0.410666114 0.314406155 0.356444803 0.431007999 0.297033873
#>  [853] 0.419515067 0.189227984 0.186817186 0.167906646 0.277821369 0.260312809
#>  [859] 0.246884265 0.173450938 0.226199403 0.219792873 0.135475392 0.267108699
#>  [865] 0.091922510 0.089560782 0.295033906 0.253251752 0.404528587 0.304248481
#>  [871] 0.361762047 0.140013037 0.208960317 0.084004662 0.053678128 0.177009344
#>  [877] 0.076460674 0.126877124 0.140312476 0.219508428 0.461701012 0.100929023
#>  [883] 0.045005695 0.164721835 0.358932634 0.398209401 0.215342188 0.135355163
#>  [889] 0.101377044 0.092986846 0.206165736 0.379102110 0.138437942 0.146459328
#>  [895] 0.269462048 0.197203753 0.191911734 0.363574831 0.479187321 0.220334737
#>  [901] 0.738834303 0.055084889 0.339527732 0.303775472 0.212837183 0.491697671
#>  [907] 0.220647725 0.223366267 0.272660544 0.106992445 0.123534707 0.307444922
#>  [913] 0.440438282 0.040245146 0.353739612 0.149335512 0.590769954 0.156608573
#>  [919] 0.515679570 0.421905396 0.428125869 0.135430170 0.052446044 0.017005394
#>  [925] 0.109818639 0.105645299 0.290566197 0.230374470 0.510999729 0.154538745
#>  [931] 0.390410093 0.182986414 0.346714102 0.080548285 0.033075681 0.208776247
#>  [937] 0.075051349 0.155716884 0.227245183 0.118599877 0.256626060 0.125615083
#>  [943] 0.249484505 0.195162963 0.229313967 0.325421284 0.368930375 0.165565623
#>  [949] 0.254823594 0.110838355 0.219096123 0.394150398 0.252758949 0.081871455
#>  [955] 0.123432439 0.315225860 0.049194105 0.286046580 0.176906731 0.096298613
#>  [961] 0.080952050 0.554543675 0.058270270 0.012597006 0.039305071 0.012111308
#>  [967] 0.034061160 0.110315249 0.084976712 0.378949307 0.159088101 0.179039027
#>  [973] 0.241571113 0.456184086 0.455028517 0.200710969 0.191261861 0.387950453
#>  [979] 0.348887605 0.410879200 0.247069960 0.206445572 0.059317513 0.121875922
#>  [985] 0.213191628 0.173152962 0.244346811 0.252684096 0.128318674 0.026821679
#>  [991] 0.096303537 0.234008664 0.292576718 0.285763270 0.544328291 0.330799822
#>  [997] 0.275390807 0.667655992 0.266341672 0.185477262
```
