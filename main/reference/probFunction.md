# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.174164856 0.153004937 0.134945482 0.259306955 0.184378190 0.162757533
#>    [7] 0.406207160 0.115627028 0.056117186 0.041444209 0.096904132 0.205829034
#>   [13] 0.365034812 0.199680710 0.139188144 0.709692134 0.607290437 0.477378066
#>   [19] 0.256510400 0.369937459 0.371536746 0.347183412 0.142871700 0.360960514
#>   [25] 0.027476243 0.029063297 0.138083368 0.146581734 0.188403524 0.232318870
#>   [31] 0.204604218 0.586762663 0.184813800 0.193409219 0.054658581 0.216831713
#>   [37] 0.194785718 0.238092104 0.451254629 0.112966267 0.182940396 0.212417331
#>   [43] 0.167768302 0.156807413 0.368373314 0.056996024 0.049886810 0.216776000
#>   [49] 0.095811950 0.106319343 0.093187728 0.126098901 0.039547696 0.087394615
#>   [55] 0.133020931 0.194430044 0.351241035 0.345920944 0.258793398 0.554643946
#>   [61] 0.175596578 0.299967588 0.272006933 0.224528550 0.182221921 0.092192105
#>   [67] 0.598501871 0.380225486 0.337125444 0.119751256 0.200472757 0.335186543
#>   [73] 0.262407555 0.295105424 0.059457445 0.058858974 0.156254522 0.178925325
#>   [79] 0.412008736 0.108387302 0.234297548 0.259076075 0.209570056 0.066548071
#>   [85] 0.164805040 0.351070291 0.397209838 0.035682367 0.302842930 0.358268926
#>   [91] 0.424018807 0.139379748 0.180916603 0.319874953 0.162314695 0.182252162
#>   [97] 0.422766409 0.352023910 0.208295976 0.196503470 0.395447984 0.183903791
#>  [103] 0.144710311 0.125154529 0.190852892 0.232974611 0.194269387 0.064825363
#>  [109] 0.164117485 0.263477009 0.210344580 0.142467014 0.138859127 0.121612278
#>  [115] 0.194962751 0.109161517 0.279224588 0.150883199 0.033673583 0.050906595
#>  [121] 0.040458513 0.274507870 0.458194834 0.154007210 0.380176775 0.162961269
#>  [127] 0.127962992 0.331968667 0.237099358 0.300599785 0.238702476 0.132649123
#>  [133] 0.044275782 0.280644303 0.367253875 0.224170774 0.064270247 0.113323424
#>  [139] 0.211377324 0.242105239 0.250730236 0.289755693 0.133519550 0.226672993
#>  [145] 0.214280419 0.328248633 0.182721693 0.293511617 0.399888506 0.321215222
#>  [151] 0.052470884 0.082061854 0.009647269 0.014661170 0.512963218 0.140902560
#>  [157] 0.185275139 0.198685734 0.122446434 0.179051399 0.309585409 0.046433102
#>  [163] 0.276451677 0.216184849 0.211057674 0.143677422 0.115443308 0.282380759
#>  [169] 0.202872592 0.218544436 0.412835326 0.163707965 0.271111233 0.310400158
#>  [175] 0.500361786 0.308295841 0.196657981 0.328216614 0.204425043 0.253821211
#>  [181] 0.263562065 0.268668054 0.299878974 0.159724949 0.425182884 0.116230606
#>  [187] 0.445382719 0.268113520 0.296712164 0.290511101 0.311591098 0.336774269
#>  [193] 0.149562855 0.204825401 0.220103641 0.284899261 0.470321741 0.499696354
#>  [199] 0.264473845 0.157697127 0.290999778 0.026012574 0.117179613 0.090120323
#>  [205] 0.189801879 0.202296442 0.312245131 0.084097195 0.174078206 0.173301815
#>  [211] 0.229449746 0.216600841 0.142210760 0.170082282 0.206694290 0.261378654
#>  [217] 0.155853053 0.327234987 0.230689039 0.259771286 0.259098370 0.204987490
#>  [223] 0.190507109 0.150258291 0.239628484 0.442735863 0.222584278 0.282186038
#>  [229] 0.429569985 0.335380627 0.325704662 0.370529693 0.120518320 0.213547606
#>  [235] 0.232854115 0.248300367 0.257066825 0.553439683 0.406301781 0.387636236
#>  [241] 0.326199802 0.268093209 0.197138376 0.250353003 0.124939107 0.456650041
#>  [247] 0.557427485 0.149055441 0.187775474 0.023780825 0.013522981 0.011187073
#>  [253] 0.129266935 0.054410546 0.030169883 0.048609546 0.094124056 0.106122963
#>  [259] 0.109160836 0.117492180 0.295718828 0.084869048 0.355889629 0.283471207
#>  [265] 0.171747446 0.178063525 0.389526895 0.266633421 0.082107997 0.375600674
#>  [271] 0.347268491 0.364586700 0.327726901 0.204943798 0.154665675 0.474556883
#>  [277] 0.253519420 0.385748283 0.214219979 0.517197199 0.242842353 0.266707830
#>  [283] 0.288314720 0.135069111 0.295724961 0.216892170 0.339982896 0.142957815
#>  [289] 0.130932397 0.507953709 0.199343563 0.272880569 0.392403817 0.224070907
#>  [295] 0.114032884 0.226158114 0.316254985 0.284965143 0.067659989 0.341143970
#>  [301] 0.161764296 0.509433978 0.109739424 0.291698708 0.202835358 0.092141315
#>  [307] 0.054164785 0.129564902 0.162104390 0.127669200 0.216646541 0.175275381
#>  [313] 0.182624570 0.262704234 0.376592332 0.487705898 0.246816228 0.098834601
#>  [319] 0.097777577 0.133559273 0.036250134 0.088517185 0.212046421 0.350931569
#>  [325] 0.056768503 0.652882048 0.309840750 0.046250397 0.036552645 0.152229871
#>  [331] 0.172199827 0.216102652 0.222491236 0.349623599 0.041262564 0.208538787
#>  [337] 0.266146266 0.058342936 0.350198335 0.381254754 0.476952919 0.465822067
#>  [343] 0.525670131 0.425888252 0.306513008 0.161098121 0.293393238 0.418056438
#>  [349] 0.396377212 0.209585318 0.260781162 0.605262020 0.327717430 0.261698052
#>  [355] 0.227280700 0.199963467 0.038908716 0.062239679 0.151621670 0.177636450
#>  [361] 0.161827653 0.361499983 0.254394490 0.312846491 0.061916416 0.095319412
#>  [367] 0.172007131 0.671620573 0.565593636 0.208191395 0.122109760 0.095898500
#>  [373] 0.097036263 0.264340235 0.287181110 0.281576358 0.192886391 0.104289982
#>  [379] 0.059325981 0.154742494 0.061110670 0.196303809 0.060223392 0.073796351
#>  [385] 0.450516305 0.233584351 0.115262118 0.364232041 0.388980289 0.176180159
#>  [391] 0.116240707 0.479389283 0.374972745 0.146587457 0.276962990 0.087942166
#>  [397] 0.150126006 0.424631290 0.088985624 0.142237222 0.153337475 0.085893319
#>  [403] 0.168212700 0.384228581 0.196023478 0.368209367 0.164849597 0.226299836
#>  [409] 0.396968397 0.159012359 0.175538043 0.107491570 0.256103505 0.475420590
#>  [415] 0.158445420 0.560838528 0.179221928 0.018864959 0.356193701 0.276836850
#>  [421] 0.123723902 0.255766862 0.278018768 0.118907104 0.262475267 0.070233753
#>  [427] 0.060374736 0.114271067 0.143229733 0.273431058 0.020223183 0.577003414
#>  [433] 0.237842489 0.176082134 0.204914869 0.311858117 0.516549105 0.712141438
#>  [439] 0.365484792 0.064100059 0.197753262 0.183658247 0.191558124 0.459245685
#>  [445] 0.051330344 0.160091369 0.501843765 0.138864791 0.255398337 0.226072614
#>  [451] 0.183762206 0.148898712 0.285791649 0.280017782 0.114179523 0.268752836
#>  [457] 0.313877534 0.259540799 0.162028905 0.247727555 0.170298467 0.144131550
#>  [463] 0.222422884 0.162958773 0.215781403 0.324942210 0.263951067 0.533921903
#>  [469] 0.327135196 0.157622414 0.354706846 0.316546049 0.053863774 0.254023096
#>  [475] 0.228427567 0.209232605 0.184390829 0.131117169 0.137239244 0.152011043
#>  [481] 0.275243752 0.139347024 0.150898681 0.351438070 0.159993934 0.125108577
#>  [487] 0.052463249 0.470490791 0.148129087 0.244587748 0.190262808 0.306957906
#>  [493] 0.156562718 0.542797114 0.045324917 0.082599210 0.065446245 0.109386304
#>  [499] 0.338896648 0.371945259 0.130867756 0.052427169 0.482375040 0.561235504
#>  [505] 0.430704295 0.141193425 0.071116617 0.170238743 0.043204248 0.033912791
#>  [511] 0.119547873 0.139934734 0.328510666 0.048246385 0.179629535 0.319657058
#>  [517] 0.396642155 0.176931753 0.230947391 0.139302413 0.330118925 0.301826421
#>  [523] 0.226311880 0.173501774 0.200213529 0.117669524 0.285014044 0.112246359
#>  [529] 0.159495900 0.167027234 0.285994702 0.164191479 0.244234766 0.340359088
#>  [535] 0.506557538 0.310212974 0.298415268 0.356866977 0.290402947 0.321605328
#>  [541] 0.275066360 0.099403440 0.205012499 0.190477277 0.302565876 0.208567514
#>  [547] 0.276787690 0.140783451 0.079127468 0.132848657 0.197798710 0.114184029
#>  [553] 0.099323938 0.087929943 0.503058712 0.078719491 0.183437600 0.188832422
#>  [559] 0.581733774 0.325309549 0.479771603 0.282214729 0.028864579 0.045509901
#>  [565] 0.126019936 0.126666046 0.097550052 0.269566685 0.104258773 0.025497240
#>  [571] 0.157839322 0.117552600 0.074121991 0.383762275 0.184059222 0.078204996
#>  [577] 0.064716598 0.273069214 0.072771710 0.043838064 0.042653897 0.191083559
#>  [583] 0.027087021 0.031059578 0.343666682 0.281915546 0.248378545 0.103880278
#>  [589] 0.173668358 0.532229933 0.714529685 0.406700246 0.362381225 0.109731414
#>  [595] 0.242320073 0.120001392 0.728829443 0.219834245 0.328935249 0.087145177
#>  [601] 0.045727449 0.152726867 0.391885822 0.276427074 0.108297140 0.219573967
#>  [607] 0.522643902 0.276195678 0.266678560 0.506112709 0.407803662 0.256080272
#>  [613] 0.334246010 0.061915942 0.156517213 0.367138093 0.474946013 0.321717846
#>  [619] 0.119665781 0.078292605 0.310429396 0.686730164 0.420201090 0.302613791
#>  [625] 0.578934827 0.464538683 0.328315047 0.231928692 0.245135070 0.061871943
#>  [631] 0.710252541 0.099022701 0.254080764 0.219793808 0.196511238 0.302926604
#>  [637] 0.307408226 0.375371031 0.226398378 0.295136513 0.059045984 0.164198676
#>  [643] 0.240199014 0.394173766 0.233105202 0.328258425 0.211014108 0.368996603
#>  [649] 0.439477585 0.336630359 0.523690406 0.396499362 0.252832641 0.276113018
#>  [655] 0.268339819 0.450473192 0.323874129 0.204218318 0.020756131 0.050958811
#>  [661] 0.039422688 0.315362661 0.084016886 0.167754424 0.474513927 0.363081553
#>  [667] 0.245658917 0.323841072 0.361718449 0.189993631 0.179445044 0.123889197
#>  [673] 0.138255233 0.631712096 0.382240446 0.510957727 0.405201820 0.461605926
#>  [679] 0.511544140 0.386887647 0.157349192 0.232651340 0.189222024 0.091124657
#>  [685] 0.374028521 0.257102405 0.326953505 0.109227771 0.370285601 0.178092436
#>  [691] 0.216215272 0.187900993 0.346380001 0.186688475 0.088131149 0.075441601
#>  [697] 0.204953716 0.082572078 0.325726353 0.363245703 0.326796722 0.457491812
#>  [703] 0.346969055 0.164890909 0.116879946 0.277961136 0.366361757 0.499206502
#>  [709] 0.229701673 0.205398671 0.102347210 0.080630205 0.208741959 0.247952582
#>  [715] 0.254773499 0.391283667 0.456410980 0.358011688 0.061403380 0.341780317
#>  [721] 0.333860079 0.541629673 0.110332832 0.299556066 0.270414409 0.217798808
#>  [727] 0.188106690 0.301906007 0.172721077 0.482940518 0.115142763 0.396477103
#>  [733] 0.620041436 0.090650746 0.272445298 0.212525965 0.134597666 0.115241470
#>  [739] 0.049768205 0.118810457 0.283561070 0.410633850 0.046957599 0.064512047
#>  [745] 0.185478850 0.200475698 0.125206802 0.176726862 0.056512392 0.110315586
#>  [751] 0.360180537 0.392158914 0.054064646 0.349538039 0.321298493 0.615054009
#>  [757] 0.079672974 0.102084830 0.128064347 0.123692032 0.164119068 0.233090100
#>  [763] 0.327288728 0.345797715 0.377743238 0.275473433 0.240466585 0.240140218
#>  [769] 0.413934311 0.116691214 0.131414531 0.413158413 0.082713374 0.334179411
#>  [775] 0.116864833 0.204492669 0.192022715 0.381102841 0.094791025 0.115663650
#>  [781] 0.379705018 0.308398128 0.202505378 0.105759199 0.260587344 0.416278535
#>  [787] 0.192231835 0.114381242 0.213394164 0.252388934 0.143638221 0.311380142
#>  [793] 0.358626583 0.290276317 0.176901885 0.346437688 0.285855691 0.367799565
#>  [799] 0.472631410 0.234175465 0.308346234 0.323999188 0.285270399 0.156355507
#>  [805] 0.172525810 0.272000300 0.048487580 0.115432219 0.351201980 0.142318994
#>  [811] 0.293591050 0.240465152 0.093203388 0.198628200 0.202176100 0.314426050
#>  [817] 0.261602131 0.153511611 0.162559949 0.261298602 0.350477685 0.333440631
#>  [823] 0.280096590 0.171810821 0.116109279 0.222044901 0.215046680 0.164234009
#>  [829] 0.051477593 0.129187568 0.125502062 0.385519792 0.367740120 0.553740987
#>  [835] 0.170655150 0.117524237 0.206875136 0.353156830 0.169885731 0.213159199
#>  [841] 0.181280931 0.121327191 0.202747460 0.095827590 0.080318576 0.268449877
#>  [847] 0.267758322 0.304750090 0.207330891 0.419551185 0.309499615 0.039628377
#>  [853] 0.029475527 0.516313311 0.111681067 0.192691702 0.368383368 0.474592445
#>  [859] 0.464388055 0.503928519 0.410265854 0.179970268 0.166223130 0.152339670
#>  [865] 0.186534347 0.241132495 0.307710223 0.220679600 0.346481457 0.104276008
#>  [871] 0.403632535 0.268572286 0.311771602 0.405651459 0.365724167 0.257106326
#>  [877] 0.141194216 0.133688134 0.288769452 0.383989282 0.036288228 0.031143326
#>  [883] 0.271160064 0.208634453 0.264364139 0.457892875 0.450340574 0.318999837
#>  [889] 0.148243006 0.145670220 0.211549336 0.447756585 0.162963740 0.383373076
#>  [895] 0.445400164 0.605476054 0.140425059 0.099023287 0.093650124 0.364976136
#>  [901] 0.276423706 0.169627843 0.140914572 0.137232692 0.126251976 0.110049908
#>  [907] 0.088767174 0.069390984 0.070038253 0.207754435 0.469096208 0.333373320
#>  [913] 0.147330216 0.205278823 0.301958455 0.320317894 0.051935050 0.188706369
#>  [919] 0.357696203 0.552434647 0.431491762 0.143160450 0.211344324 0.263980562
#>  [925] 0.485997109 0.388448185 0.200744444 0.329364579 0.234512700 0.218118536
#>  [931] 0.290728258 0.233850597 0.260386761 0.340657328 0.447604683 0.306902702
#>  [937] 0.265416580 0.275579399 0.100601347 0.237087852 0.156643956 0.253133572
#>  [943] 0.301062200 0.174289745 0.162803127 0.049235800 0.099993572 0.048666032
#>  [949] 0.260705429 0.237066717 0.158994209 0.312446414 0.149484517 0.436820113
#>  [955] 0.072060093 0.178371127 0.099178998 0.074307743 0.135327876 0.268540257
#>  [961] 0.180729297 0.210202868 0.272013608 0.221349399 0.095954393 0.386750281
#>  [967] 0.145022494 0.150981427 0.087026086 0.097481147 0.169349090 0.143245380
#>  [973] 0.725539299 0.244555629 0.392609365 0.343579439 0.094046867 0.154964105
#>  [979] 0.071390073 0.174850040 0.320895400 0.045972323 0.557771023 0.558610095
#>  [985] 0.349538607 0.276261358 0.214364539 0.159522320 0.048435766 0.196738492
#>  [991] 0.068316763 0.129874119 0.195161414 0.282297104 0.156610209 0.223026668
#>  [997] 0.067770965 0.077783545 0.024991912 0.025411961
```
