# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.055298642 0.063905443 0.217363334 0.135046749 0.211877330 0.332986873
#>    [7] 0.357784452 0.151171814 0.074566940 0.042364610 0.242519276 0.078270918
#>   [13] 0.022986893 0.094905401 0.111968744 0.288969211 0.221461440 0.139809116
#>   [19] 0.440169276 0.063970027 0.075258355 0.261126367 0.253797229 0.288209394
#>   [25] 0.163844911 0.195708347 0.292150542 0.203556928 0.051812144 0.267347296
#>   [31] 0.441897733 0.133326352 0.272610776 0.173053280 0.214605822 0.134538846
#>   [37] 0.369477513 0.064485030 0.218345735 0.067618810 0.053450943 0.036203596
#>   [43] 0.256652081 0.283611922 0.200789903 0.470803128 0.288711128 0.130360672
#>   [49] 0.187620939 0.261318194 0.102437051 0.217952296 0.145735214 0.058194799
#>   [55] 0.143716413 0.057780313 0.192848589 0.570891005 0.174392980 0.134252533
#>   [61] 0.343679258 0.136120044 0.444067773 0.468842713 0.412803633 0.118801117
#>   [67] 0.291239107 0.416246023 0.054064531 0.181515759 0.442943784 0.258109616
#>   [73] 0.286111618 0.285734636 0.510305793 0.215252787 0.155141049 0.405189978
#>   [79] 0.301073330 0.561802722 0.219724271 0.113242206 0.390215170 0.393535905
#>   [85] 0.292526391 0.294565414 0.170520698 0.179242539 0.419035356 0.578558188
#>   [91] 0.283759350 0.247364043 0.198289929 0.396752810 0.274148103 0.465391789
#>   [97] 0.175792859 0.333191093 0.376500629 0.267901088 0.132696820 0.172389284
#>  [103] 0.049959387 0.157589470 0.067365618 0.091611592 0.304424225 0.372649348
#>  [109] 0.031973807 0.042253996 0.071727577 0.094282117 0.075544693 0.045198918
#>  [115] 0.400713873 0.116323108 0.273821832 0.323068601 0.191875805 0.380488794
#>  [121] 0.344812559 0.340304576 0.247131300 0.271406809 0.302129686 0.152913141
#>  [127] 0.167317362 0.427919129 0.157361273 0.289031935 0.210399221 0.140034549
#>  [133] 0.109024921 0.213620674 0.112386634 0.212618416 0.183040175 0.233634468
#>  [139] 0.053544872 0.328674326 0.311953363 0.074651109 0.386344183 0.197199812
#>  [145] 0.197992518 0.319988836 0.406640530 0.196301251 0.088540759 0.324426442
#>  [151] 0.296689476 0.181548506 0.402670046 0.128824836 0.080118415 0.459250861
#>  [157] 0.132712026 0.281534601 0.332906108 0.583375571 0.371110251 0.201465850
#>  [163] 0.247445104 0.171994325 0.218176909 0.135528488 0.071966480 0.343644563
#>  [169] 0.268035022 0.171346215 0.362002615 0.274415528 0.293939256 0.273658913
#>  [175] 0.371155505 0.482251287 0.363108325 0.100162544 0.282312940 0.064189200
#>  [181] 0.155747171 0.172407534 0.223530534 0.287691469 0.368074214 0.301519936
#>  [187] 0.075195866 0.115923123 0.202310032 0.305267720 0.262103595 0.491309469
#>  [193] 0.382509160 0.173768985 0.170128536 0.154717635 0.304028441 0.110437681
#>  [199] 0.475669936 0.133958072 0.244282161 0.116735111 0.222503878 0.199191200
#>  [205] 0.090832016 0.124854959 0.287749731 0.411443161 0.162520867 0.292533301
#>  [211] 0.435932172 0.438992856 0.111783301 0.367947851 0.550125240 0.213391932
#>  [217] 0.267810283 0.260273243 0.237353330 0.184626829 0.051051578 0.333162596
#>  [223] 0.151696057 0.237274362 0.168332841 0.433759751 0.213606529 0.140149438
#>  [229] 0.127717110 0.521368684 0.156681532 0.190402985 0.111245831 0.048412546
#>  [235] 0.153092744 0.378710378 0.273991944 0.231600097 0.251593472 0.506608733
#>  [241] 0.295110654 0.142337681 0.293145012 0.101432381 0.059002895 0.479805045
#>  [247] 0.171138837 0.443263329 0.490039332 0.324736991 0.373929567 0.198703803
#>  [253] 0.362257285 0.474061836 0.457396667 0.117160957 0.127108668 0.049674321
#>  [259] 0.039180928 0.059844135 0.325401663 0.180305378 0.063843754 0.098917732
#>  [265] 0.131840441 0.168699741 0.024292730 0.098908182 0.335394750 0.239473852
#>  [271] 0.567166361 0.501119487 0.079646038 0.141440705 0.142630036 0.018190921
#>  [277] 0.060902280 0.649757438 0.175279221 0.335110659 0.204553198 0.060970397
#>  [283] 0.130149321 0.031105651 0.079343576 0.549554981 0.269975417 0.048945664
#>  [289] 0.561130182 0.228017815 0.206953988 0.454632296 0.462140747 0.575965069
#>  [295] 0.253945120 0.378181128 0.200586741 0.514962465 0.052664480 0.376805145
#>  [301] 0.124843716 0.237910362 0.249460058 0.242405527 0.185019683 0.062280901
#>  [307] 0.045726893 0.025110351 0.176841743 0.169843958 0.180048447 0.326872740
#>  [313] 0.194978965 0.374469193 0.357402650 0.402900104 0.264491353 0.056947036
#>  [319] 0.114685671 0.333412141 0.262091146 0.137168873 0.346966757 0.380522840
#>  [325] 0.415217062 0.336791289 0.280138844 0.162893737 0.234687706 0.428625851
#>  [331] 0.411000262 0.499905678 0.371067188 0.464988166 0.102852547 0.254351718
#>  [337] 0.229948217 0.142446429 0.283880360 0.094823560 0.340323310 0.206828839
#>  [343] 0.403951551 0.389971347 0.113511226 0.068102210 0.218961828 0.155764022
#>  [349] 0.238500597 0.101094300 0.294759713 0.101105362 0.253014093 0.201316371
#>  [355] 0.539298978 0.315448002 0.253880550 0.428683286 0.087998040 0.058803274
#>  [361] 0.461335049 0.216618759 0.156126981 0.193382334 0.096602536 0.260272867
#>  [367] 0.230524527 0.326140630 0.076502974 0.028628262 0.064670595 0.213032659
#>  [373] 0.199007701 0.503139365 0.116625857 0.178842475 0.343429286 0.393600424
#>  [379] 0.146291119 0.228867055 0.144870550 0.149929501 0.188541002 0.483698418
#>  [385] 0.095723676 0.028223514 0.211923188 0.444697360 0.182327615 0.065010829
#>  [391] 0.272457339 0.048437177 0.059361877 0.012520559 0.036893542 0.049365404
#>  [397] 0.188858276 0.248517872 0.011370764 0.001372967 0.027230851 0.016846792
#>  [403] 0.076123374 0.170442220 0.083116774 0.278440850 0.384585671 0.175847448
#>  [409] 0.284859503 0.391183712 0.473271790 0.430702471 0.209766832 0.235397835
#>  [415] 0.167075646 0.044553419 0.305306219 0.209105639 0.449857636 0.277907826
#>  [421] 0.253682756 0.500642887 0.283857230 0.180475637 0.362182492 0.130861596
#>  [427] 0.078511803 0.396703108 0.341504152 0.284654725 0.235414850 0.151108424
#>  [433] 0.129755840 0.620106023 0.302502078 0.359703166 0.107989032 0.190343064
#>  [439] 0.116075899 0.130369488 0.131868246 0.262910701 0.165221391 0.171346906
#>  [445] 0.326710687 0.513925041 0.273152570 0.385987715 0.076489107 0.169716907
#>  [451] 0.318548098 0.245154128 0.131351745 0.307321949 0.105334242 0.040389515
#>  [457] 0.091170827 0.076924710 0.072696469 0.078575530 0.166372863 0.448544598
#>  [463] 0.047704812 0.090689918 0.220609232 0.169235104 0.138896631 0.175669160
#>  [469] 0.145985174 0.121089423 0.277713735 0.332154520 0.454759878 0.215515429
#>  [475] 0.068228247 0.396144307 0.213907024 0.294523830 0.386665046 0.154689815
#>  [481] 0.356408904 0.231852468 0.149488823 0.074724996 0.074258461 0.273998002
#>  [487] 0.232081424 0.195473106 0.356711516 0.402817323 0.111516947 0.088211281
#>  [493] 0.033727540 0.123700399 0.169740633 0.377960638 0.190802644 0.213293423
#>  [499] 0.452397156 0.446033495 0.723323056 0.014745784 0.082863099 0.169462076
#>  [505] 0.254177182 0.406018689 0.150448756 0.188823897 0.296861744 0.510366472
#>  [511] 0.324084686 0.284396928 0.166579524 0.279250549 0.403362218 0.146353646
#>  [517] 0.216151561 0.097971134 0.302664637 0.168943501 0.614722501 0.122034506
#>  [523] 0.145651231 0.132986877 0.122314856 0.435697627 0.417977232 0.219734145
#>  [529] 0.442026193 0.219740542 0.533843704 0.229141312 0.474347057 0.049357945
#>  [535] 0.099649458 0.255200440 0.076073698 0.144119747 0.303780955 0.324310776
#>  [541] 0.596700465 0.176876809 0.291448573 0.328398752 0.221494402 0.352523330
#>  [547] 0.185304200 0.230986422 0.324927543 0.265451087 0.198624098 0.231808266
#>  [553] 0.208334626 0.250732418 0.074192190 0.365634189 0.309008813 0.317714734
#>  [559] 0.184696285 0.185362619 0.235768321 0.363141469 0.188990354 0.378811679
#>  [565] 0.028574460 0.171394280 0.163369297 0.180097941 0.300087075 0.309787297
#>  [571] 0.318119474 0.400506263 0.521682198 0.459291242 0.076857457 0.290412391
#>  [577] 0.251843753 0.120224362 0.193281854 0.463503525 0.188434099 0.544384121
#>  [583] 0.465971062 0.370589872 0.392736030 0.385308350 0.226501963 0.308117842
#>  [589] 0.347001826 0.485636344 0.482571050 0.486185169 0.288225388 0.499943406
#>  [595] 0.587786030 0.056425668 0.264735367 0.313765208 0.117024467 0.162560383
#>  [601] 0.237609614 0.253412470 0.500619649 0.146410215 0.112830619 0.197654774
#>  [607] 0.354134503 0.086121543 0.253077095 0.205227868 0.194860300 0.207722362
#>  [613] 0.414481299 0.216289587 0.117604093 0.084575738 0.195148609 0.374584988
#>  [619] 0.293922861 0.021470101 0.044213940 0.228278318 0.101980412 0.165537369
#>  [625] 0.238257243 0.227124091 0.447121856 0.109779285 0.100943027 0.265401564
#>  [631] 0.188168449 0.277525162 0.414691134 0.134637478 0.070627041 0.070226608
#>  [637] 0.085909648 0.254733859 0.305237581 0.469092735 0.086392141 0.105970355
#>  [643] 0.058808932 0.061478128 0.499291387 0.084959649 0.116222178 0.177685414
#>  [649] 0.147718047 0.454060231 0.271268599 0.158318587 0.158977059 0.169720229
#>  [655] 0.193182250 0.221145726 0.425948714 0.495848987 0.361996303 0.056362244
#>  [661] 0.368647116 0.211358324 0.286900146 0.179563903 0.044739968 0.183611603
#>  [667] 0.174790858 0.106337705 0.023597796 0.408736319 0.298877990 0.239547990
#>  [673] 0.100444614 0.071170732 0.306239575 0.154707000 0.106998230 0.517529974
#>  [679] 0.191927123 0.272700101 0.315677357 0.172125132 0.259701668 0.376425494
#>  [685] 0.158355236 0.367446568 0.244468260 0.257061590 0.085461222 0.525409534
#>  [691] 0.297114309 0.174649793 0.072743231 0.067123198 0.409871835 0.169762621
#>  [697] 0.094250214 0.025435145 0.051258965 0.074645058 0.197830147 0.229470608
#>  [703] 0.153377061 0.239830010 0.188580085 0.461397968 0.267480477 0.112324571
#>  [709] 0.105599986 0.473144117 0.439558976 0.267101707 0.166642346 0.079944825
#>  [715] 0.208673888 0.102589617 0.280558787 0.211945640 0.397993991 0.075829372
#>  [721] 0.068902629 0.100206543 0.331964520 0.469889306 0.349199433 0.068570563
#>  [727] 0.303700005 0.290547601 0.553042971 0.170004622 0.178766002 0.323738063
#>  [733] 0.291564088 0.165518694 0.132637364 0.117050790 0.214741610 0.203861140
#>  [739] 0.269795876 0.131328442 0.346431688 0.347825537 0.454102106 0.142092612
#>  [745] 0.404840694 0.138501578 0.360099739 0.063690666 0.358422552 0.408359389
#>  [751] 0.393478858 0.212503497 0.243683214 0.159525385 0.334133534 0.240368684
#>  [757] 0.226201282 0.023019393 0.015810956 0.163727881 0.057709118 0.193987342
#>  [763] 0.076070127 0.082138072 0.200593604 0.490757732 0.633945171 0.084154297
#>  [769] 0.122069872 0.160999996 0.052024502 0.404399846 0.314754013 0.263435730
#>  [775] 0.263059055 0.350421356 0.488361774 0.065066037 0.102018906 0.179247785
#>  [781] 0.277207657 0.336858595 0.194559368 0.165530909 0.233934875 0.048884184
#>  [787] 0.286542282 0.301688923 0.404435928 0.174860075 0.089305426 0.031480550
#>  [793] 0.030923954 0.405266995 0.175157749 0.089120164 0.608165075 0.536545959
#>  [799] 0.295836911 0.343225898 0.420158496 0.171644435 0.094296510 0.137757821
#>  [805] 0.049698487 0.060916448 0.157690623 0.128651299 0.077450538 0.244187066
#>  [811] 0.341031781 0.178354325 0.151155178 0.243148186 0.336423783 0.106926820
#>  [817] 0.181023788 0.443472180 0.075026454 0.020801747 0.041811942 0.396133029
#>  [823] 0.503039117 0.073574476 0.246198704 0.203416174 0.262549912 0.124446305
#>  [829] 0.058238337 0.049621029 0.539256069 0.472798774 0.503953727 0.267726132
#>  [835] 0.213764296 0.233645216 0.240269661 0.092835913 0.251853564 0.437469517
#>  [841] 0.270748182 0.064198826 0.299598611 0.085508013 0.170748516 0.385743091
#>  [847] 0.134279291 0.121524032 0.252190407 0.238995978 0.283879044 0.172191605
#>  [853] 0.175093197 0.097939071 0.023557084 0.083806941 0.231579769 0.184174602
#>  [859] 0.227159044 0.220721513 0.298406388 0.369038045 0.144531572 0.116455287
#>  [865] 0.008479450 0.173778634 0.303094669 0.355930555 0.246563372 0.327505087
#>  [871] 0.044247807 0.098343681 0.150779299 0.273127845 0.261782418 0.191195107
#>  [877] 0.198870212 0.436502933 0.300242980 0.086762630 0.127841677 0.350786542
#>  [883] 0.400110438 0.088055419 0.061590987 0.246973932 0.148988196 0.344536506
#>  [889] 0.091827100 0.386206853 0.315337019 0.142007359 0.194847701 0.323407744
#>  [895] 0.507755747 0.171935357 0.190600487 0.205835800 0.192423227 0.108410888
#>  [901] 0.087751477 0.127228839 0.144514499 0.327030433 0.371305434 0.349996969
#>  [907] 0.240774110 0.343386590 0.346462604 0.217418732 0.046659348 0.023472968
#>  [913] 0.016773340 0.034189068 0.115799838 0.237768397 0.013633285 0.134971725
#>  [919] 0.181877023 0.438407118 0.404837576 0.449747294 0.089346047 0.245839902
#>  [925] 0.256940549 0.155291607 0.206173495 0.270537166 0.334076432 0.255846881
#>  [931] 0.143457863 0.261934974 0.214133169 0.254006434 0.141519138 0.122727605
#>  [937] 0.034865027 0.061954992 0.067192078 0.083689263 0.059953640 0.053888868
#>  [943] 0.204517637 0.277838905 0.223982614 0.197591399 0.349384651 0.264287138
#>  [949] 0.226173536 0.219199042 0.209382311 0.301292048 0.145907237 0.083144668
#>  [955] 0.263171964 0.373202761 0.087973372 0.401961498 0.416948762 0.491979402
#>  [961] 0.411084628 0.158834614 0.215922408 0.536996903 0.114461058 0.043842928
#>  [967] 0.093969504 0.247280631 0.050502488 0.257776158 0.049443960 0.127965237
#>  [973] 0.265495973 0.316088583 0.421272061 0.151965957 0.150837413 0.251527899
#>  [979] 0.278274005 0.258143735 0.078959253 0.137694847 0.235087623 0.084771849
#>  [985] 0.071685059 0.117953047 0.110775292 0.261502293 0.244346963 0.404546973
#>  [991] 0.228473516 0.453942746 0.327671816 0.412984087 0.556682955 0.252267838
#>  [997] 0.221887364 0.233650726 0.381117258 0.231166156
```
