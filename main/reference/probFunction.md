# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.28222047 0.21028665 0.14425525 0.28727444 0.18964009 0.23686864
#>    [7] 0.28815794 0.20151458 0.39923218 0.30234020 0.15607513 0.07402009
#>   [13] 0.30595628 0.49430943 0.20925677 0.17776192 0.43368593 0.17849873
#>   [19] 0.46023277 0.26068320 0.22446991 0.28386066 0.09746452 0.27752386
#>   [25] 0.31788375 0.11707027 0.14240595 0.24414092 0.08717123 0.17337532
#>   [31] 0.30169997 0.14565555 0.72246722 0.58123716 0.33000498 0.33901075
#>   [37] 0.37196535 0.23308788 0.36705642 0.04125111 0.02199091 0.02086329
#>   [43] 0.17230583 0.05698610 0.16686252 0.19217275 0.45150883 0.29868931
#>   [49] 0.29506332 0.23035004 0.07819831 0.48247151 0.45137861 0.06937141
#>   [55] 0.33432822 0.24169921 0.07448278 0.17634781 0.17819844 0.22822884
#>   [61] 0.30980161 0.34347359 0.25518980 0.19674356 0.07957405 0.16372964
#>   [67] 0.08164305 0.22012666 0.37000477 0.12980869 0.10803494 0.41226429
#>   [73] 0.21292154 0.41642156 0.18069228 0.23478291 0.34481447 0.05279543
#>   [79] 0.08264584 0.31530503 0.14039783 0.26685489 0.21669781 0.13667706
#>   [85] 0.31568998 0.16235300 0.14602089 0.15549216 0.18621461 0.37930528
#>   [91] 0.26643051 0.10207236 0.30966177 0.10175810 0.18187126 0.51752155
#>   [97] 0.56657533 0.62406571 0.42088114 0.40996037 0.28626673 0.11896958
#>  [103] 0.34060453 0.20660253 0.09815921 0.22201452 0.08598313 0.17295966
#>  [109] 0.05672189 0.06570446 0.17518108 0.16736565 0.23257902 0.16579252
#>  [115] 0.06033496 0.01021864 0.05259501 0.35398754 0.24272909 0.51191019
#>  [121] 0.12365742 0.06857344 0.09684565 0.12174108 0.06838205 0.25171402
#>  [127] 0.21221537 0.15732510 0.29193919 0.29414974 0.35861322 0.30914449
#>  [133] 0.35159594 0.38715209 0.43393206 0.49291829 0.29801149 0.31993841
#>  [139] 0.49191629 0.25909313 0.38343389 0.19435337 0.07468511 0.46065635
#>  [145] 0.13058245 0.10601821 0.25978764 0.07319333 0.18707236 0.11234984
#>  [151] 0.49257817 0.55575617 0.27717946 0.14629623 0.16627769 0.29125505
#>  [157] 0.14719964 0.34181482 0.19737792 0.12317550 0.05318020 0.14145825
#>  [163] 0.15312780 0.25737080 0.24296712 0.19551798 0.30708024 0.26601322
#>  [169] 0.26121889 0.21758769 0.27875141 0.27578375 0.19031072 0.35139160
#>  [175] 0.40578270 0.21565615 0.34184059 0.27292094 0.22694433 0.39449761
#>  [181] 0.30011048 0.13221479 0.19013179 0.27236793 0.04201496 0.01661730
#>  [187] 0.19247527 0.19623629 0.32524202 0.13780297 0.22635174 0.35783502
#>  [193] 0.27280036 0.24219126 0.15317226 0.22806461 0.42656352 0.20841327
#>  [199] 0.09814400 0.24296258 0.24627560 0.46494669 0.18312867 0.40619795
#>  [205] 0.22602849 0.06369774 0.15060507 0.42361346 0.19716489 0.03705220
#>  [211] 0.04375197 0.43878815 0.25312191 0.35053445 0.42227717 0.13845978
#>  [217] 0.07244974 0.05729173 0.19273608 0.26089225 0.24680237 0.11521150
#>  [223] 0.23147000 0.34177047 0.07707121 0.23944002 0.25541986 0.03957416
#>  [229] 0.05895455 0.28263651 0.37878716 0.29693671 0.27564323 0.37963107
#>  [235] 0.38874939 0.10574738 0.54009293 0.34338004 0.40781901 0.12408282
#>  [241] 0.05096796 0.02820409 0.04099562 0.18322025 0.09517919 0.18888993
#>  [247] 0.05979954 0.16737204 0.13299748 0.13697623 0.06303518 0.14216180
#>  [253] 0.31483235 0.44961608 0.15063249 0.59581476 0.44596804 0.48536627
#>  [259] 0.41501244 0.10618773 0.30528978 0.20202500 0.15790714 0.29712248
#>  [265] 0.37804340 0.35636688 0.27013870 0.19574472 0.24604876 0.32201460
#>  [271] 0.17448030 0.63082987 0.05466998 0.27204215 0.37936508 0.51731951
#>  [277] 0.50370011 0.26714268 0.21233720 0.29105387 0.16138338 0.33380723
#>  [283] 0.18324369 0.61480543 0.44982650 0.07798996 0.31986183 0.50455018
#>  [289] 0.23703269 0.42733456 0.16942985 0.21406749 0.16945415 0.09271956
#>  [295] 0.17086481 0.30344234 0.28848983 0.33301349 0.08859442 0.02684438
#>  [301] 0.03190269 0.25359132 0.50490236 0.53703220 0.11625233 0.08528795
#>  [307] 0.32139587 0.30209020 0.24755470 0.16366975 0.17591083 0.27546986
#>  [313] 0.25265503 0.63920961 0.05675064 0.32247724 0.10437055 0.24848368
#>  [319] 0.28013896 0.37803052 0.03068984 0.12098642 0.03802277 0.19747221
#>  [325] 0.21268821 0.12622355 0.21529785 0.17578006 0.13865526 0.04094968
#>  [331] 0.03818554 0.11317949 0.17937306 0.08141974 0.09894617 0.29932553
#>  [337] 0.22763202 0.16259376 0.37548221 0.14262352 0.34532828 0.29283901
#>  [343] 0.18156377 0.11824916 0.22745450 0.08679743 0.40899782 0.35264368
#>  [349] 0.21619104 0.29760130 0.12216284 0.24045411 0.09961578 0.13580648
#>  [355] 0.36504263 0.52763208 0.38614507 0.17689398 0.22072548 0.21826261
#>  [361] 0.25293078 0.28572276 0.30719952 0.08244598 0.04929029 0.34863906
#>  [367] 0.44009068 0.01652315 0.04378302 0.01722534 0.10245178 0.34172664
#>  [373] 0.50834050 0.37882127 0.22451248 0.31517807 0.16147335 0.48617754
#>  [379] 0.11326476 0.20029243 0.04832226 0.21700988 0.02736835 0.13389219
#>  [385] 0.51228074 0.62633297 0.59499208 0.41077782 0.17889018 0.13739691
#>  [391] 0.38957620 0.52217506 0.17032557 0.14316480 0.03570009 0.12761452
#>  [397] 0.12164302 0.29045422 0.14986827 0.10964997 0.07044775 0.16941075
#>  [403] 0.09427419 0.04507306 0.20430901 0.19585759 0.48060632 0.17845769
#>  [409] 0.16547805 0.07918191 0.14813962 0.05181886 0.22635439 0.17850766
#>  [415] 0.33866071 0.28676651 0.22476948 0.40334803 0.06849238 0.18007139
#>  [421] 0.14593957 0.17826646 0.18396336 0.13405340 0.05168649 0.02156399
#>  [427] 0.20706493 0.31658079 0.21204317 0.22924114 0.14642524 0.35172936
#>  [433] 0.37177357 0.49289246 0.05209300 0.06597938 0.09857539 0.16473311
#>  [439] 0.39104839 0.21410741 0.35174347 0.32280205 0.28576311 0.14718993
#>  [445] 0.45781259 0.10900929 0.30492793 0.41914232 0.51649760 0.40276015
#>  [451] 0.18426889 0.18342177 0.25579203 0.28908394 0.39538106 0.35348395
#>  [457] 0.19415806 0.46913962 0.09037141 0.24653760 0.12367781 0.07700657
#>  [463] 0.27296291 0.16281930 0.19016302 0.09649731 0.49433192 0.33110414
#>  [469] 0.16989959 0.16855325 0.10042691 0.06455071 0.06054339 0.16906858
#>  [475] 0.14927823 0.16240605 0.40842779 0.07828965 0.05538345 0.15798558
#>  [481] 0.41385259 0.39803184 0.21601077 0.17004260 0.05787437 0.21034552
#>  [487] 0.18892086 0.08815891 0.26370632 0.18952008 0.13306498 0.12945404
#>  [493] 0.10851991 0.11763385 0.33331795 0.38136989 0.26378388 0.43048631
#>  [499] 0.14403222 0.18898164 0.32165289 0.43763277 0.46343809 0.49601728
#>  [505] 0.16169931 0.28495941 0.23973827 0.15419363 0.56484312 0.33968976
#>  [511] 0.11785375 0.36490150 0.06009096 0.06748000 0.09273928 0.38594343
#>  [517] 0.41329431 0.09335718 0.18108519 0.14767249 0.11438448 0.31770181
#>  [523] 0.24196751 0.26604361 0.24373336 0.32132451 0.35535103 0.14911807
#>  [529] 0.27131405 0.13274437 0.27316449 0.18243381 0.13746564 0.45600164
#>  [535] 0.31369908 0.12310418 0.06538712 0.45800685 0.05412567 0.11013658
#>  [541] 0.28814552 0.23676908 0.28495390 0.07650534 0.11178713 0.49113404
#>  [547] 0.09824423 0.27542058 0.32128004 0.41560635 0.22968699 0.32576764
#>  [553] 0.20802865 0.35624177 0.46929612 0.13559077 0.18555297 0.35104710
#>  [559] 0.23988914 0.42344075 0.04464219 0.10566693 0.12539195 0.20634629
#>  [565] 0.27920398 0.23143959 0.24697246 0.18441195 0.33333299 0.03088489
#>  [571] 0.08404331 0.14588254 0.18742497 0.35269438 0.19555320 0.10760540
#>  [577] 0.38944005 0.68062732 0.47956933 0.26146713 0.28398900 0.44761907
#>  [583] 0.33979580 0.69425161 0.10243489 0.11729059 0.09835347 0.20217861
#>  [589] 0.11699425 0.05139786 0.06556802 0.21576930 0.07162223 0.03093244
#>  [595] 0.08860391 0.08035872 0.41372549 0.36997432 0.69364384 0.15106356
#>  [601] 0.10151081 0.42715549 0.16637534 0.44307144 0.06971671 0.16653398
#>  [607] 0.37520468 0.16381650 0.33376373 0.11727690 0.12557739 0.08682827
#>  [613] 0.16528963 0.27390576 0.19964789 0.19345238 0.30050356 0.12639920
#>  [619] 0.15599912 0.40050149 0.13256932 0.18262698 0.20844138 0.27706202
#>  [625] 0.27908779 0.31763206 0.09502841 0.17821205 0.10204440 0.13152283
#>  [631] 0.08896064 0.08111739 0.34885901 0.50539199 0.28483695 0.45707602
#>  [637] 0.27410029 0.40395076 0.08170112 0.16625401 0.29189522 0.10282879
#>  [643] 0.19279145 0.24198924 0.10575519 0.19438754 0.18700898 0.34051937
#>  [649] 0.14650946 0.03891356 0.16102321 0.12846110 0.28148004 0.40971102
#>  [655] 0.28801284 0.21151485 0.26842613 0.48130752 0.26171100 0.16785046
#>  [661] 0.10783747 0.45656483 0.10491657 0.25312788 0.23064903 0.34735179
#>  [667] 0.35417187 0.06540207 0.09296090 0.15400805 0.31095952 0.25027242
#>  [673] 0.18967558 0.04842990 0.03386869 0.50537551 0.30414759 0.23844199
#>  [679] 0.29048348 0.31149503 0.25827912 0.26240857 0.10805785 0.40150791
#>  [685] 0.28609116 0.15815223 0.09773537 0.13792586 0.12666470 0.39127300
#>  [691] 0.50308414 0.14165110 0.12681203 0.10854888 0.15096848 0.19593284
#>  [697] 0.53775014 0.29688704 0.24979641 0.08995770 0.42699203 0.44267609
#>  [703] 0.42812414 0.27734015 0.23182708 0.38975593 0.44544528 0.35481869
#>  [709] 0.09743032 0.06509539 0.51987703 0.02735893 0.22923153 0.06088620
#>  [715] 0.23373803 0.23011035 0.22773118 0.08196202 0.25876169 0.24008651
#>  [721] 0.20424709 0.11020154 0.27964193 0.46253071 0.32906789 0.35406983
#>  [727] 0.34415187 0.28904110 0.25551346 0.21187438 0.50657141 0.54754431
#>  [733] 0.15471455 0.07722666 0.19648568 0.14701911 0.27311742 0.18946915
#>  [739] 0.18296619 0.31488433 0.25894499 0.18334903 0.07340369 0.06971388
#>  [745] 0.15403169 0.19824808 0.15404664 0.21395019 0.29205354 0.30145507
#>  [751] 0.16598016 0.08937263 0.12713155 0.13452358 0.21881988 0.28299273
#>  [757] 0.36377575 0.33130208 0.23747255 0.13330237 0.07532584 0.04445468
#>  [763] 0.21851915 0.13024132 0.32501844 0.17605796 0.07378339 0.07420659
#>  [769] 0.11852393 0.13177482 0.32188429 0.16335942 0.14038274 0.13133727
#>  [775] 0.26903480 0.24932768 0.33087477 0.38999784 0.44976465 0.36891451
#>  [781] 0.07808372 0.14901800 0.51224867 0.11289233 0.15823110 0.28113404
#>  [787] 0.32170656 0.22992823 0.35055633 0.33836763 0.49903862 0.34135594
#>  [793] 0.20300095 0.44135440 0.59096049 0.62261387 0.20681099 0.24239290
#>  [799] 0.06959805 0.13609434 0.25639752 0.22263565 0.20841080 0.46168985
#>  [805] 0.40539094 0.32598893 0.44809013 0.55132945 0.06534710 0.27899237
#>  [811] 0.05426512 0.28831146 0.42555004 0.39796968 0.13895529 0.06319084
#>  [817] 0.11395920 0.04036105 0.16840149 0.22621889 0.38423446 0.17423392
#>  [823] 0.17566852 0.33430820 0.21762271 0.35768928 0.16559903 0.29310680
#>  [829] 0.15104600 0.29117113 0.24480400 0.28453370 0.19686232 0.38194020
#>  [835] 0.33165480 0.28772300 0.23853689 0.49835519 0.14246115 0.12602811
#>  [841] 0.31058190 0.24110235 0.33393735 0.25634699 0.11785295 0.06881441
#>  [847] 0.37550075 0.07489491 0.27814349 0.51075881 0.22786025 0.23679172
#>  [853] 0.39042340 0.26139440 0.11677394 0.11662725 0.14297613 0.37791434
#>  [859] 0.14062735 0.27616160 0.60911205 0.08784327 0.20713297 0.27793451
#>  [865] 0.18597222 0.26603663 0.06508035 0.26971939 0.57201580 0.55167011
#>  [871] 0.45181489 0.20920552 0.12400108 0.36477226 0.32697844 0.22808456
#>  [877] 0.23926078 0.08683629 0.13088661 0.08597157 0.03696124 0.34076873
#>  [883] 0.47483204 0.37295750 0.47500924 0.17281490 0.19699899 0.31465698
#>  [889] 0.27982795 0.34248145 0.20773263 0.20744501 0.14169599 0.11805311
#>  [895] 0.24749819 0.28868232 0.06898801 0.29097678 0.33560782 0.46697670
#>  [901] 0.31956991 0.09863381 0.05761232 0.22529146 0.39197907 0.36960349
#>  [907] 0.52630430 0.12334280 0.54416606 0.14523309 0.44578585 0.63814920
#>  [913] 0.72520022 0.31049231 0.54904439 0.20210635 0.29521825 0.04721406
#>  [919] 0.19043406 0.16963328 0.14320605 0.07192967 0.36059898 0.09130837
#>  [925] 0.02787170 0.14122314 0.20134801 0.19549536 0.15236087 0.38241883
#>  [931] 0.24052278 0.27431528 0.07930686 0.11066828 0.19736486 0.31175066
#>  [937] 0.10925307 0.23912992 0.29450917 0.13716307 0.47731346 0.12702129
#>  [943] 0.15901747 0.33828153 0.31911981 0.10660756 0.17186146 0.14652131
#>  [949] 0.36696159 0.30093766 0.10941184 0.14602505 0.20403924 0.20507725
#>  [955] 0.22785445 0.13074744 0.05225030 0.33417300 0.08720756 0.39324455
#>  [961] 0.09703254 0.14826427 0.04680174 0.04168418 0.17322385 0.08186818
#>  [967] 0.47275054 0.28033863 0.20137760 0.10061164 0.06185547 0.23659397
#>  [973] 0.20175482 0.33380658 0.14725126 0.11196601 0.16187639 0.11781378
#>  [979] 0.20017202 0.30957066 0.33302733 0.31756429 0.13048209 0.13412162
#>  [985] 0.37853279 0.18246416 0.25494542 0.29277041 0.05452717 0.47067328
#>  [991] 0.08916066 0.30407606 0.16519609 0.08661482 0.10994395 0.18609888
#>  [997] 0.49335072 0.22014945 0.37698138 0.28260695
```
