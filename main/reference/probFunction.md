# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.28231565 0.33850744 0.10433547 0.28047299 0.21881626 0.25597183
#>    [7] 0.27070287 0.11299415 0.38406980 0.24840787 0.40105389 0.41208887
#>   [13] 0.04730257 0.47562298 0.42218875 0.40418574 0.20667559 0.06513704
#>   [19] 0.05365863 0.13988988 0.13973258 0.06214087 0.25125332 0.12694458
#>   [25] 0.20948534 0.27315596 0.41311088 0.43336211 0.52629689 0.61934603
#>   [31] 0.07486781 0.30051257 0.17372248 0.13089753 0.31289609 0.10575214
#>   [37] 0.06025835 0.04492431 0.03849492 0.05622588 0.10809536 0.02639527
#>   [43] 0.07041105 0.32298140 0.27540233 0.18794948 0.15750683 0.15426525
#>   [49] 0.13483541 0.15886635 0.20785687 0.25827708 0.29335997 0.26393932
#>   [55] 0.47437000 0.28533558 0.46372992 0.25893740 0.07308169 0.21327154
#>   [61] 0.27348738 0.42137701 0.38088867 0.32251361 0.28148859 0.20674662
#>   [67] 0.25898769 0.23937123 0.12479862 0.05680881 0.14297854 0.12665713
#>   [73] 0.17843080 0.07889982 0.35616610 0.39538664 0.58946942 0.37315939
#>   [79] 0.42956080 0.28139306 0.48954453 0.11669756 0.61795091 0.13742602
#>   [85] 0.15838358 0.21643348 0.31080684 0.36378080 0.22449184 0.36288008
#>   [91] 0.11800008 0.21888513 0.17344009 0.13203154 0.28447616 0.31183219
#>   [97] 0.09351477 0.42469869 0.24489564 0.29664674 0.47463514 0.35941729
#>  [103] 0.34635689 0.42639929 0.25244705 0.35307656 0.05771296 0.20071396
#>  [109] 0.10575298 0.10067408 0.23648302 0.29831232 0.40000371 0.23694878
#>  [115] 0.29792721 0.17921983 0.26433456 0.16441364 0.43898480 0.46750920
#>  [121] 0.15998760 0.26063445 0.18814236 0.28760906 0.13004351 0.04644745
#>  [127] 0.57581499 0.57573428 0.25798262 0.10667766 0.16574599 0.25762013
#>  [133] 0.04833100 0.04740678 0.32144006 0.28282470 0.18083757 0.15926666
#>  [139] 0.18003172 0.21803252 0.04570132 0.16488304 0.44272027 0.19395038
#>  [145] 0.18622438 0.10189805 0.18382869 0.25922145 0.18204980 0.40273379
#>  [151] 0.11148094 0.19864398 0.12243152 0.52634805 0.34009950 0.31737808
#>  [157] 0.20294890 0.38532652 0.31875375 0.23538680 0.23474844 0.32756263
#>  [163] 0.33565050 0.40509994 0.25304126 0.21231634 0.23044329 0.33295502
#>  [169] 0.60885602 0.30404994 0.23275132 0.49714513 0.22931505 0.43200272
#>  [175] 0.49563099 0.40548185 0.34900818 0.23042027 0.20699351 0.40883925
#>  [181] 0.14910458 0.26617707 0.22666993 0.67275351 0.45126632 0.24560001
#>  [187] 0.17842160 0.16089629 0.23665032 0.35688113 0.21792083 0.15206247
#>  [193] 0.10139343 0.08528049 0.27412239 0.18112751 0.07591635 0.27460871
#>  [199] 0.21819163 0.04998367 0.17085615 0.12350930 0.22935598 0.24686126
#>  [205] 0.23075150 0.21312565 0.20901647 0.48669690 0.16884818 0.43525798
#>  [211] 0.22300904 0.37305207 0.13392319 0.19249057 0.23237496 0.39480819
#>  [217] 0.29474635 0.09785669 0.13842361 0.32285671 0.11819730 0.08842428
#>  [223] 0.28897015 0.13814286 0.26604216 0.24214554 0.30804539 0.19889641
#>  [229] 0.26207205 0.26621259 0.24907916 0.35156425 0.21236101 0.26687638
#>  [235] 0.37633059 0.45691246 0.10364698 0.23608103 0.18160239 0.39112319
#>  [241] 0.19084729 0.11303608 0.59318283 0.35888586 0.33460065 0.37662937
#>  [247] 0.21193848 0.25445940 0.04719787 0.21188455 0.12119729 0.11262939
#>  [253] 0.09680647 0.23074656 0.09642312 0.31626663 0.12342804 0.57133698
#>  [259] 0.34008180 0.26835179 0.17261934 0.16210751 0.13543622 0.12335549
#>  [265] 0.03063227 0.07415648 0.06883075 0.02745255 0.37084651 0.23330875
#>  [271] 0.20720844 0.11708551 0.10007732 0.22514203 0.11086448 0.31663079
#>  [277] 0.53405775 0.30069270 0.23979679 0.11269896 0.19402933 0.31095548
#>  [283] 0.22704422 0.27546493 0.10421436 0.07596462 0.08906094 0.26921372
#>  [289] 0.40138751 0.30386443 0.59449367 0.22572594 0.52532169 0.20509864
#>  [295] 0.09967195 0.59805590 0.23780020 0.03764965 0.31629964 0.12521250
#>  [301] 0.08502529 0.18992438 0.07229685 0.16705359 0.26220719 0.40123532
#>  [307] 0.13491602 0.14029343 0.02148606 0.11538418 0.11100751 0.48751372
#>  [313] 0.21035810 0.17651652 0.24767358 0.36323466 0.08045561 0.55092932
#>  [319] 0.08490607 0.43777662 0.08536871 0.14632348 0.16166541 0.04353846
#>  [325] 0.09388307 0.07255430 0.17530961 0.31132907 0.14205881 0.51533868
#>  [331] 0.06778329 0.31459080 0.30296085 0.35987867 0.19068382 0.48824260
#>  [337] 0.08218718 0.10686617 0.30076751 0.02869580 0.03199040 0.16094692
#>  [343] 0.22884360 0.17012357 0.09301130 0.03083402 0.32491230 0.37107637
#>  [349] 0.24662787 0.30659841 0.16748950 0.13982791 0.09115263 0.34862874
#>  [355] 0.38818790 0.03886961 0.06592485 0.36038874 0.21587499 0.61870063
#>  [361] 0.29661873 0.57486363 0.02817295 0.05901388 0.08404824 0.22173395
#>  [367] 0.21020845 0.21831631 0.22095717 0.27480658 0.33270216 0.21856791
#>  [373] 0.16089567 0.06914792 0.17772930 0.22450431 0.44827719 0.32677667
#>  [379] 0.13695738 0.22529944 0.26858876 0.21724640 0.04405176 0.07670731
#>  [385] 0.14195554 0.16560029 0.24533919 0.15615877 0.40702322 0.13297912
#>  [391] 0.17904502 0.14670743 0.27154445 0.16945733 0.07290260 0.08350110
#>  [397] 0.08260986 0.09266832 0.06878491 0.47583140 0.30046563 0.46008328
#>  [403] 0.15730534 0.16575390 0.56918000 0.14928256 0.11878639 0.42832572
#>  [409] 0.28485973 0.21682114 0.38923945 0.06730386 0.07367363 0.39435189
#>  [415] 0.56864111 0.31994388 0.03408811 0.10897529 0.33491032 0.74077149
#>  [421] 0.50364779 0.19920685 0.10146494 0.01985346 0.11126743 0.36908380
#>  [427] 0.20345668 0.39244892 0.11445827 0.46081047 0.33701795 0.19764734
#>  [433] 0.42415155 0.08652310 0.29474217 0.28832713 0.26638972 0.06364922
#>  [439] 0.19463771 0.01888909 0.38990185 0.34678059 0.06607897 0.34475140
#>  [445] 0.10082995 0.09399974 0.09683540 0.05697594 0.17950039 0.05755371
#>  [451] 0.22414260 0.23867031 0.04404630 0.02353333 0.36065701 0.09894807
#>  [457] 0.50027718 0.07732776 0.11507777 0.04906101 0.16928992 0.22439877
#>  [463] 0.14987012 0.16659227 0.37379210 0.40730154 0.02114642 0.15661677
#>  [469] 0.32252356 0.07591265 0.13947381 0.20881782 0.08663199 0.24718809
#>  [475] 0.20321268 0.30300286 0.12636419 0.21330508 0.41988731 0.12164868
#>  [481] 0.59956282 0.17630614 0.06399456 0.27606784 0.28251569 0.16596331
#>  [487] 0.27873674 0.08206453 0.12612317 0.29501306 0.03905264 0.07849811
#>  [493] 0.10388454 0.05528926 0.23266076 0.22106146 0.24510087 0.29950648
#>  [499] 0.31234170 0.13811379 0.08259722 0.07331536 0.28978988 0.35679349
#>  [505] 0.54076345 0.20135783 0.15706445 0.09588589 0.64269331 0.36373910
#>  [511] 0.17666436 0.08840490 0.09331257 0.14894477 0.10373683 0.13705642
#>  [517] 0.28670251 0.16409470 0.26818914 0.40577131 0.18639752 0.26741035
#>  [523] 0.08036455 0.02903462 0.17045876 0.27541154 0.17749414 0.35707148
#>  [529] 0.39876079 0.30147589 0.08710980 0.18601571 0.23985099 0.61057865
#>  [535] 0.43023510 0.04594521 0.51568866 0.58735076 0.11493491 0.58867633
#>  [541] 0.10024063 0.34085966 0.12308366 0.09986981 0.04788914 0.02790803
#>  [547] 0.11814841 0.59783027 0.24489685 0.17504873 0.19655558 0.20544767
#>  [553] 0.16273072 0.29495005 0.34837774 0.32494023 0.36286574 0.13946000
#>  [559] 0.44694783 0.09006299 0.02300331 0.33464811 0.35798031 0.13942498
#>  [565] 0.47079500 0.23137398 0.28751814 0.18338290 0.29495036 0.38047986
#>  [571] 0.17568934 0.18590243 0.11993631 0.11779137 0.07898064 0.19470835
#>  [577] 0.22593507 0.28671350 0.20584512 0.28032128 0.32472549 0.23982964
#>  [583] 0.23929560 0.35736347 0.22601278 0.37718544 0.08768226 0.10592779
#>  [589] 0.18649686 0.39610494 0.14885413 0.13411572 0.22264944 0.34302307
#>  [595] 0.19651215 0.18084200 0.07519541 0.16293349 0.33830702 0.18659951
#>  [601] 0.15777129 0.32634961 0.10700153 0.16280300 0.48633478 0.38407774
#>  [607] 0.66396059 0.60259921 0.43601533 0.03523163 0.04171798 0.09488311
#>  [613] 0.14489718 0.12645573 0.27505060 0.06436997 0.47583770 0.34721006
#>  [619] 0.33932239 0.09464029 0.03713272 0.04414008 0.16360641 0.24615561
#>  [625] 0.16094452 0.24605867 0.27697542 0.15937501 0.10849769 0.13804980
#>  [631] 0.32298869 0.23026348 0.26301919 0.38181963 0.18756763 0.38192264
#>  [637] 0.21326697 0.23333833 0.13153861 0.10009654 0.34295943 0.39086231
#>  [643] 0.16834170 0.25612822 0.23464380 0.18432925 0.35360199 0.16266283
#>  [649] 0.18812230 0.62300604 0.57742500 0.34052990 0.07908381 0.05084765
#>  [655] 0.03589781 0.47877378 0.26134672 0.55069429 0.39828184 0.22384597
#>  [661] 0.22066544 0.14188784 0.13267087 0.38811464 0.26671480 0.25650905
#>  [667] 0.28794378 0.27436985 0.23171702 0.39191529 0.21204414 0.12068243
#>  [673] 0.12306989 0.22270770 0.18810613 0.18481450 0.38812264 0.45638233
#>  [679] 0.11410570 0.32130709 0.03484989 0.34455247 0.35436575 0.38867648
#>  [685] 0.16508418 0.24141104 0.10797686 0.25083530 0.19127391 0.07237945
#>  [691] 0.32312557 0.11989837 0.30395435 0.11804756 0.24498378 0.20691663
#>  [697] 0.08979876 0.14116575 0.22091266 0.11302230 0.16871162 0.25472853
#>  [703] 0.61251514 0.71043028 0.35092861 0.60810726 0.54743134 0.12279190
#>  [709] 0.22589612 0.10425091 0.42213834 0.32256131 0.20355750 0.29232443
#>  [715] 0.17728826 0.13395523 0.20797652 0.19231465 0.19115817 0.13519365
#>  [721] 0.29588296 0.30342386 0.16630844 0.07731631 0.26611158 0.35852574
#>  [727] 0.09007304 0.20041956 0.14543246 0.25430802 0.10959071 0.26842618
#>  [733] 0.21092376 0.15156284 0.27092040 0.34561703 0.29754566 0.07885268
#>  [739] 0.14615173 0.19949630 0.30226222 0.40916886 0.27884953 0.35763942
#>  [745] 0.14674095 0.24226823 0.24592128 0.30299886 0.28897040 0.29480983
#>  [751] 0.11292184 0.07707111 0.07633733 0.06643299 0.20400772 0.15988284
#>  [757] 0.48702705 0.15300507 0.11787991 0.11864470 0.23077910 0.08496895
#>  [763] 0.42736169 0.03878784 0.09262264 0.35182890 0.24369148 0.53565493
#>  [769] 0.13374738 0.18258751 0.50420495 0.16263997 0.13909511 0.14405456
#>  [775] 0.12121484 0.22517093 0.25340468 0.05356550 0.51642776 0.33595673
#>  [781] 0.03896377 0.17610900 0.19474809 0.14609494 0.23441275 0.16957375
#>  [787] 0.14400549 0.34042955 0.23532354 0.22041166 0.28810441 0.40777745
#>  [793] 0.49399078 0.14843960 0.26293994 0.10475792 0.12419581 0.13707259
#>  [799] 0.12369663 0.18528065 0.25881973 0.11890410 0.33053618 0.22629971
#>  [805] 0.30280628 0.43600262 0.33330538 0.10398899 0.18178773 0.33126939
#>  [811] 0.27699948 0.37967431 0.23368448 0.39820368 0.17623330 0.21174614
#>  [817] 0.08931513 0.17153161 0.64018462 0.14429086 0.54438124 0.36925831
#>  [823] 0.34561792 0.31883373 0.07467287 0.33864804 0.28416590 0.14287864
#>  [829] 0.34026743 0.16218502 0.05424145 0.06729415 0.11022177 0.01151942
#>  [835] 0.06286292 0.15097122 0.15639129 0.43356040 0.14234308 0.20603772
#>  [841] 0.46261581 0.20889769 0.36841127 0.45765500 0.77789932 0.18881759
#>  [847] 0.08627545 0.11501582 0.09081932 0.09356272 0.30676861 0.32500657
#>  [853] 0.19625209 0.15792799 0.46746227 0.11496805 0.07621860 0.19789204
#>  [859] 0.38629200 0.24685972 0.28423025 0.03159217 0.07163466 0.24191608
#>  [865] 0.24153839 0.43448972 0.20029220 0.05850601 0.40870454 0.30601708
#>  [871] 0.23012059 0.48163352 0.10438944 0.31661518 0.54956992 0.15743364
#>  [877] 0.24712698 0.33471222 0.06356021 0.17864929 0.32000440 0.09169018
#>  [883] 0.23233173 0.04310794 0.06774947 0.18681099 0.32325748 0.54617876
#>  [889] 0.32476211 0.12308259 0.08775459 0.08711987 0.32692379 0.23301969
#>  [895] 0.47787503 0.12922468 0.28651269 0.27062658 0.26628372 0.15603143
#>  [901] 0.35764985 0.25003628 0.43387833 0.32029789 0.19268012 0.32262657
#>  [907] 0.33106235 0.29099621 0.10757533 0.24004357 0.27433386 0.24861434
#>  [913] 0.12728253 0.10974198 0.14025143 0.33671480 0.23804247 0.18784778
#>  [919] 0.32693646 0.04965370 0.02164543 0.10142427 0.55353996 0.33206869
#>  [925] 0.38859215 0.10820114 0.39502044 0.16252672 0.16091407 0.11717750
#>  [931] 0.09464284 0.47798892 0.23493030 0.13063523 0.08627586 0.40495078
#>  [937] 0.09624796 0.35723318 0.38652555 0.13980520 0.35577927 0.30178414
#>  [943] 0.19564986 0.40057675 0.32304723 0.59410035 0.18152677 0.25452138
#>  [949] 0.08006761 0.11159089 0.14159792 0.43805364 0.40804061 0.08980694
#>  [955] 0.08285007 0.56995968 0.33427179 0.26567205 0.24839427 0.31038549
#>  [961] 0.21037374 0.59113263 0.18181576 0.28053399 0.61684444 0.12632519
#>  [967] 0.15378854 0.21795201 0.24157769 0.37956741 0.29033453 0.27989971
#>  [973] 0.14464369 0.19435822 0.39095697 0.11710883 0.20391357 0.14625942
#>  [979] 0.18667742 0.57854596 0.51506338 0.05784282 0.26525631 0.37169738
#>  [985] 0.17649683 0.26145518 0.40524848 0.41373289 0.27512176 0.31456747
#>  [991] 0.40986434 0.26994058 0.27791078 0.27386425 0.19906020 0.10739723
#>  [997] 0.15703523 0.26202074 0.06399378 0.33293350
```
