# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.183632265 0.494241414 0.214981610 0.263698933 0.551726295 0.202937551
#>    [7] 0.558791599 0.450657001 0.127402129 0.363935341 0.358342931 0.090462392
#>   [13] 0.177083092 0.316967187 0.338843927 0.144604667 0.345621300 0.196009530
#>   [19] 0.301071129 0.302937998 0.064045449 0.086467753 0.447907872 0.203341552
#>   [25] 0.051131833 0.052983353 0.056274465 0.269327766 0.028433345 0.083180298
#>   [31] 0.389844805 0.371961380 0.132592624 0.459244929 0.168181979 0.325682087
#>   [37] 0.332178037 0.081848477 0.007987340 0.033318300 0.039377268 0.305682220
#>   [43] 0.101621351 0.116822723 0.335003906 0.486696828 0.193404566 0.287753076
#>   [49] 0.239398324 0.259525920 0.264667627 0.278403440 0.282755271 0.393889007
#>   [55] 0.637848775 0.176878139 0.054065985 0.170315725 0.526654815 0.029892498
#>   [61] 0.064165422 0.119887171 0.056576165 0.050779151 0.237019140 0.334147783
#>   [67] 0.207781178 0.102427372 0.196768130 0.427833734 0.456446556 0.489075276
#>   [73] 0.271596107 0.023047972 0.027169589 0.123419325 0.216668711 0.455662526
#>   [79] 0.115951439 0.230115387 0.114773629 0.515735643 0.199654902 0.364287654
#>   [85] 0.499690711 0.353909442 0.231737825 0.320176492 0.221168058 0.139720664
#>   [91] 0.111704597 0.351375820 0.244000027 0.227303236 0.228034786 0.254748525
#>   [97] 0.324511581 0.252920431 0.357147113 0.430611089 0.491967155 0.356670238
#>  [103] 0.469338541 0.233120905 0.193962138 0.120058342 0.103418427 0.159803389
#>  [109] 0.177328904 0.040841029 0.100608231 0.012762093 0.022817964 0.080163769
#>  [115] 0.117967970 0.266539624 0.440626518 0.363711957 0.150831418 0.056340339
#>  [121] 0.140791959 0.516172015 0.321870511 0.075612511 0.057468435 0.079731767
#>  [127] 0.154740670 0.139250506 0.114269795 0.570486733 0.392762167 0.046903923
#>  [133] 0.444404074 0.222644794 0.234366494 0.180287392 0.128004936 0.484587650
#>  [139] 0.443329923 0.472501138 0.114510859 0.266598982 0.373529302 0.670709804
#>  [145] 0.297593795 0.190616631 0.220525053 0.056163723 0.182083925 0.153186594
#>  [151] 0.231411607 0.181446514 0.313894888 0.227607115 0.226963674 0.205610232
#>  [157] 0.449189100 0.152725362 0.311496015 0.297870403 0.185744585 0.292597515
#>  [163] 0.366765573 0.176418570 0.139878140 0.182034180 0.224045503 0.280882358
#>  [169] 0.107109998 0.037241165 0.066996365 0.168450084 0.112141159 0.040470061
#>  [175] 0.083833319 0.250388735 0.076795133 0.186592784 0.370797200 0.385639413
#>  [181] 0.409405111 0.211745381 0.132591821 0.062892024 0.159254374 0.040249245
#>  [187] 0.039382383 0.056573875 0.558694516 0.211938598 0.124152758 0.264570861
#>  [193] 0.044927175 0.136212328 0.240596044 0.439954653 0.099810058 0.111155128
#>  [199] 0.612825093 0.072970411 0.189610592 0.095686662 0.396645682 0.189438574
#>  [205] 0.120582926 0.469014916 0.118528079 0.338633427 0.341628852 0.305358107
#>  [211] 0.205008447 0.134556674 0.260200585 0.184523319 0.342666242 0.209733252
#>  [217] 0.131539855 0.134346733 0.156380245 0.328246143 0.171515249 0.376512184
#>  [223] 0.366457318 0.209833338 0.062147857 0.308918716 0.127001088 0.273775526
#>  [229] 0.158862987 0.156816338 0.136987002 0.109084093 0.267107241 0.268599013
#>  [235] 0.235461249 0.302138800 0.169062038 0.320593512 0.625028303 0.061060858
#>  [241] 0.078860517 0.475051154 0.178008483 0.208313141 0.149131954 0.307656846
#>  [247] 0.236013148 0.263375866 0.183811607 0.132934673 0.289284769 0.289035763
#>  [253] 0.221644512 0.186202856 0.261722013 0.092002046 0.049789145 0.069837098
#>  [259] 0.460862214 0.087109185 0.207112616 0.234608057 0.385536972 0.180066246
#>  [265] 0.596877168 0.157929671 0.164003684 0.265353839 0.082836763 0.083486587
#>  [271] 0.069265574 0.196926897 0.149372096 0.042610474 0.283837153 0.230705044
#>  [277] 0.146315912 0.231017778 0.182781480 0.639016649 0.371000833 0.186495559
#>  [283] 0.090780340 0.318993745 0.186527128 0.312028487 0.064925100 0.096826255
#>  [289] 0.132966732 0.349810774 0.066707942 0.325567268 0.305740463 0.174513337
#>  [295] 0.363455926 0.377622347 0.156716375 0.073248249 0.179898481 0.216509840
#>  [301] 0.292357023 0.188329394 0.177554764 0.187326888 0.172523210 0.408311844
#>  [307] 0.291852002 0.207192315 0.202591315 0.346825103 0.101349264 0.369600771
#>  [313] 0.197480710 0.145048693 0.303682695 0.164057675 0.081381021 0.157089245
#>  [319] 0.200541740 0.458925101 0.265769750 0.409883130 0.345305472 0.140161437
#>  [325] 0.258091075 0.225785812 0.222355911 0.284624842 0.099590436 0.113350994
#>  [331] 0.083929743 0.072391464 0.186123942 0.049423289 0.068129590 0.357956606
#>  [337] 0.403232783 0.284001872 0.428974683 0.479382632 0.367722205 0.201894854
#>  [343] 0.201079098 0.154647538 0.071474510 0.328046743 0.074500347 0.025381468
#>  [349] 0.274062970 0.319087490 0.229268919 0.086415920 0.157358299 0.353645398
#>  [355] 0.026094883 0.020445333 0.063684207 0.105004192 0.225048130 0.064322500
#>  [361] 0.083212361 0.403087780 0.404467141 0.164710715 0.504488032 0.316402924
#>  [367] 0.281118804 0.082163731 0.110838351 0.142212905 0.568424635 0.360829167
#>  [373] 0.038395221 0.175599028 0.069003487 0.355466024 0.407724418 0.244523743
#>  [379] 0.268892114 0.218212223 0.316248656 0.507547003 0.149036067 0.245993665
#>  [385] 0.217189558 0.313497466 0.228621326 0.111072161 0.230879850 0.220208582
#>  [391] 0.190054724 0.073040950 0.402014057 0.613669448 0.054307012 0.203591469
#>  [397] 0.243828701 0.240950309 0.208243576 0.085220580 0.227275305 0.030082010
#>  [403] 0.031546893 0.080137550 0.236084416 0.182540747 0.209143264 0.431073592
#>  [409] 0.068215254 0.109693922 0.083006976 0.153216500 0.266236553 0.105081440
#>  [415] 0.694755294 0.366199677 0.129605284 0.118363390 0.171474431 0.339332356
#>  [421] 0.110416616 0.206779250 0.343931032 0.342348112 0.208374217 0.173325673
#>  [427] 0.204713320 0.079751944 0.076651287 0.802613691 0.128078704 0.136615452
#>  [433] 0.171117972 0.140824298 0.160486210 0.398165919 0.334097137 0.091911904
#>  [439] 0.143560350 0.126388535 0.190503677 0.127339755 0.236748596 0.181428409
#>  [445] 0.290897208 0.188319117 0.030950823 0.289713868 0.438358812 0.329403127
#>  [451] 0.085177323 0.439119466 0.050404167 0.048528718 0.144452841 0.273666962
#>  [457] 0.360109895 0.255668690 0.248930239 0.229523979 0.385849950 0.118092573
#>  [463] 0.255744553 0.152442248 0.411552710 0.332293821 0.380705962 0.260972183
#>  [469] 0.264282184 0.255797930 0.311071019 0.129118178 0.082681697 0.080052914
#>  [475] 0.430839301 0.355716292 0.151798291 0.171445857 0.238923124 0.101854328
#>  [481] 0.356040434 0.257897250 0.225652388 0.373172991 0.193563152 0.264774140
#>  [487] 0.234142688 0.125926338 0.662015243 0.153748601 0.469333551 0.174219524
#>  [493] 0.406316027 0.140105525 0.264824870 0.520465728 0.415176544 0.365432466
#>  [499] 0.135625077 0.226588342 0.122321567 0.196090419 0.176780347 0.443299500
#>  [505] 0.254344034 0.138135951 0.159652765 0.207390697 0.287060925 0.131362298
#>  [511] 0.191470043 0.296465315 0.038955655 0.151988409 0.135128372 0.552744997
#>  [517] 0.615942100 0.514066820 0.330191069 0.306453701 0.061227501 0.110805610
#>  [523] 0.209112164 0.101562183 0.126921218 0.197063826 0.414203109 0.237836933
#>  [529] 0.429472104 0.136055214 0.242134391 0.283591018 0.153037610 0.282841985
#>  [535] 0.430119269 0.146115694 0.210522840 0.209795690 0.401729519 0.494222969
#>  [541] 0.290723554 0.209250834 0.062882173 0.343457884 0.304354425 0.645746199
#>  [547] 0.094556848 0.015258602 0.083025945 0.161786587 0.167422178 0.392850723
#>  [553] 0.525914291 0.114165045 0.044613301 0.101941975 0.041259875 0.470854646
#>  [559] 0.241323485 0.217428238 0.328516220 0.176251225 0.114403569 0.390693325
#>  [565] 0.376737028 0.227622761 0.010131701 0.049609051 0.084707497 0.073571732
#>  [571] 0.113724991 0.382722451 0.186027898 0.748247258 0.210982322 0.224692766
#>  [577] 0.109830567 0.206577021 0.267687019 0.369751551 0.247671156 0.266196038
#>  [583] 0.148497995 0.230132452 0.280774275 0.108671147 0.654516875 0.351139469
#>  [589] 0.392079527 0.560834865 0.190505450 0.185869328 0.302982043 0.086613127
#>  [595] 0.187943078 0.222790799 0.505031817 0.162967803 0.183831019 0.134204505
#>  [601] 0.369471543 0.196017970 0.092138164 0.085946865 0.298462195 0.310283830
#>  [607] 0.438942141 0.148585455 0.122904709 0.217717164 0.191734157 0.140488020
#>  [613] 0.185642764 0.011255633 0.008836855 0.023658959 0.044358392 0.081689015
#>  [619] 0.020591447 0.024301624 0.276322144 0.190509268 0.058085410 0.092098102
#>  [625] 0.070820442 0.127357448 0.195358627 0.374335883 0.270738978 0.394781727
#>  [631] 0.664022636 0.331023781 0.149351286 0.211365669 0.178912410 0.376183198
#>  [637] 0.247455954 0.472887151 0.252233084 0.501318552 0.368843353 0.116495674
#>  [643] 0.126534919 0.307041356 0.102572807 0.086972847 0.342602474 0.099019107
#>  [649] 0.168857813 0.167268539 0.130658557 0.357293143 0.289758010 0.281377081
#>  [655] 0.183002028 0.051645271 0.318335448 0.423926250 0.569325660 0.439749030
#>  [661] 0.265022539 0.173002309 0.350488178 0.010701251 0.326009283 0.313893734
#>  [667] 0.285671797 0.151485377 0.467738097 0.145922762 0.256199240 0.335626702
#>  [673] 0.281872173 0.229439450 0.263411397 0.038901665 0.194254132 0.193877545
#>  [679] 0.091555259 0.142365332 0.112344677 0.065353207 0.078603701 0.046616707
#>  [685] 0.390950346 0.072851066 0.078510288 0.044727181 0.540205007 0.286621482
#>  [691] 0.142326729 0.280499456 0.313943537 0.260759736 0.289203212 0.206665580
#>  [697] 0.254811100 0.116453553 0.452750927 0.413265001 0.131862835 0.026413907
#>  [703] 0.058613608 0.510297248 0.330364916 0.338932914 0.142023134 0.390709482
#>  [709] 0.177349204 0.266847906 0.271741668 0.099281312 0.479192513 0.673058912
#>  [715] 0.429827924 0.269474027 0.307038136 0.266709967 0.618619357 0.238867919
#>  [721] 0.076185677 0.230401063 0.171821456 0.110923346 0.122322212 0.145563308
#>  [727] 0.164040543 0.312820288 0.245489609 0.160664500 0.380945188 0.070545883
#>  [733] 0.247364573 0.191070580 0.201833399 0.356742348 0.234564259 0.178544461
#>  [739] 0.084167062 0.453400032 0.377567894 0.511262022 0.199327149 0.270816299
#>  [745] 0.291946374 0.152145088 0.146048053 0.132226067 0.192354589 0.048464345
#>  [751] 0.121388995 0.287715684 0.339732830 0.338716043 0.143481176 0.388403316
#>  [757] 0.144140693 0.184301174 0.276963773 0.395304674 0.489834078 0.113166578
#>  [763] 0.268345455 0.544566689 0.337169925 0.131516451 0.368141019 0.330009560
#>  [769] 0.320464805 0.199324744 0.514647982 0.418340497 0.165215271 0.126438873
#>  [775] 0.174014720 0.031219429 0.114546399 0.028825473 0.718603412 0.173815403
#>  [781] 0.310564642 0.351213744 0.380716308 0.087734792 0.267277118 0.167599998
#>  [787] 0.171992745 0.215670873 0.114049496 0.147420675 0.275650865 0.122342367
#>  [793] 0.254049493 0.178042018 0.187364541 0.259585890 0.355865434 0.356272699
#>  [799] 0.340997295 0.189306494 0.249087049 0.161332240 0.315084960 0.134189909
#>  [805] 0.079462839 0.212923440 0.158828328 0.122967666 0.087554440 0.085218933
#>  [811] 0.181580900 0.206218699 0.168686292 0.300491489 0.324858906 0.319541742
#>  [817] 0.451830154 0.279404750 0.391541714 0.191588616 0.077043276 0.157745356
#>  [823] 0.174710358 0.276184667 0.139726757 0.251421741 0.134745444 0.191999582
#>  [829] 0.095986077 0.200487555 0.194626583 0.214768842 0.270098940 0.322470731
#>  [835] 0.169723497 0.150182633 0.034227029 0.058544081 0.215502011 0.109388569
#>  [841] 0.043703175 0.316765051 0.417637336 0.095313468 0.298957770 0.263852888
#>  [847] 0.323112267 0.085775440 0.182969261 0.083597470 0.426575962 0.226843230
#>  [853] 0.396411689 0.054525006 0.440972479 0.310192179 0.320696420 0.202474403
#>  [859] 0.119664423 0.176733761 0.187107936 0.342039307 0.357916471 0.056319930
#>  [865] 0.098998566 0.292530720 0.349138990 0.191120394 0.158364305 0.304845732
#>  [871] 0.173327919 0.331537928 0.147216046 0.289851249 0.148995202 0.077633711
#>  [877] 0.111036611 0.272014903 0.195567062 0.124027530 0.058376092 0.198779483
#>  [883] 0.207081124 0.239566218 0.381485824 0.218065984 0.717778536 0.228473443
#>  [889] 0.316415095 0.389195194 0.407907914 0.100897453 0.427347398 0.162416815
#>  [895] 0.224723067 0.172290541 0.171450576 0.078056663 0.024374098 0.020248222
#>  [901] 0.124905810 0.524264536 0.354616362 0.406166456 0.333869166 0.048977049
#>  [907] 0.103517850 0.233200671 0.093242644 0.162658347 0.073715879 0.275520281
#>  [913] 0.222428639 0.645481108 0.071354208 0.203051225 0.251019443 0.291772450
#>  [919] 0.213786009 0.420286426 0.312201390 0.503547981 0.076295582 0.109619516
#>  [925] 0.055277322 0.216439020 0.302531430 0.589778738 0.379101909 0.244860976
#>  [931] 0.223658191 0.272175948 0.217899853 0.145964075 0.134075670 0.091799040
#>  [937] 0.263574611 0.121148135 0.358361838 0.181554931 0.202774953 0.601432333
#>  [943] 0.612765536 0.055590943 0.353886810 0.143039701 0.227135252 0.209542342
#>  [949] 0.159357299 0.478993768 0.154171869 0.243228800 0.194542911 0.255608605
#>  [955] 0.529501308 0.205433592 0.405605344 0.639762758 0.681955391 0.494593591
#>  [961] 0.196670874 0.550333059 0.051931267 0.227082769 0.196069561 0.360796963
#>  [967] 0.308182256 0.227856754 0.212609655 0.455782185 0.210641597 0.229403552
#>  [973] 0.162380675 0.140366383 0.447743420 0.243820368 0.310049196 0.114675163
#>  [979] 0.432454071 0.235341155 0.272208491 0.342542692 0.383525268 0.259820216
#>  [985] 0.354214081 0.245924768 0.202829753 0.266073756 0.186614956 0.217557397
#>  [991] 0.147716954 0.381467414 0.366047533 0.253630367 0.111190265 0.353073895
#>  [997] 0.186455116 0.167092184 0.121047026 0.480338302
```
