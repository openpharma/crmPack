# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.060498478 0.312686771 0.151145605 0.359670526 0.134484054 0.101307952
#>    [7] 0.229495513 0.237387715 0.165629526 0.116941719 0.441481522 0.527658886
#>   [13] 0.210020217 0.207463454 0.247974508 0.394077337 0.294405658 0.492004743
#>   [19] 0.364689284 0.107007594 0.358750908 0.383331578 0.208793247 0.467876084
#>   [25] 0.061263310 0.096553163 0.250320027 0.096827885 0.208755252 0.275779974
#>   [31] 0.199613973 0.127675960 0.436494772 0.161345519 0.241971899 0.065097775
#>   [37] 0.405579217 0.127519286 0.155055580 0.164423093 0.230903328 0.234578494
#>   [43] 0.263937409 0.393708332 0.101244779 0.161156809 0.329484557 0.225149912
#>   [49] 0.435289212 0.072400321 0.217739128 0.054182011 0.537140187 0.341717028
#>   [55] 0.333571238 0.371064772 0.243790176 0.203403985 0.313358780 0.272712749
#>   [61] 0.105353013 0.187342536 0.243403417 0.140063605 0.705958749 0.618518697
#>   [67] 0.085815451 0.171797754 0.099195678 0.309818135 0.489023578 0.057253711
#>   [73] 0.074389548 0.249706151 0.174331645 0.216851561 0.323272938 0.320383862
#>   [79] 0.115213213 0.324015298 0.126008589 0.106146840 0.160269079 0.102681152
#>   [85] 0.594112293 0.302333314 0.336889443 0.556202417 0.270877500 0.252613554
#>   [91] 0.142036286 0.085514262 0.490738003 0.084077496 0.108927559 0.240816800
#>   [97] 0.247642186 0.051738911 0.148833328 0.142487124 0.051915647 0.100607759
#>  [103] 0.451444210 0.078039464 0.047238667 0.203721503 0.322041920 0.112832820
#>  [109] 0.403583136 0.373536113 0.175603224 0.400594938 0.191759247 0.143622731
#>  [115] 0.163706569 0.096104180 0.358152758 0.156987837 0.034173069 0.071511275
#>  [121] 0.466022296 0.744267504 0.219935882 0.093673709 0.232959144 0.374004526
#>  [127] 0.388805171 0.117100650 0.102958701 0.076297582 0.362577009 0.283938359
#>  [133] 0.204341906 0.438532010 0.654822530 0.604478772 0.099183964 0.282252978
#>  [139] 0.324012904 0.075702082 0.152012610 0.268071588 0.118342399 0.044567842
#>  [145] 0.049445759 0.197822867 0.084350503 0.263858429 0.464231154 0.208325529
#>  [151] 0.117620747 0.170523199 0.321077386 0.222620872 0.077882834 0.085159004
#>  [157] 0.152237232 0.360616037 0.044363630 0.293765914 0.369035244 0.230973311
#>  [163] 0.170164616 0.134557761 0.021098180 0.058118067 0.099046826 0.230194256
#>  [169] 0.148475229 0.535579638 0.244133251 0.224093263 0.378684772 0.145636848
#>  [175] 0.045009453 0.078613351 0.121235568 0.032334017 0.379556817 0.575216721
#>  [181] 0.354101384 0.340107952 0.360510820 0.293155265 0.283950282 0.241071574
#>  [187] 0.234461600 0.052864383 0.664693919 0.471764698 0.371969281 0.127817511
#>  [193] 0.133495823 0.198868565 0.187290623 0.363678315 0.057900160 0.212314343
#>  [199] 0.262256362 0.402256378 0.386697723 0.149258080 0.338204263 0.311305279
#>  [205] 0.138324896 0.495495263 0.304052807 0.518510953 0.187796041 0.291142968
#>  [211] 0.392994411 0.172225895 0.166976377 0.123654464 0.503500990 0.315723933
#>  [217] 0.387309935 0.219525486 0.226435399 0.421493222 0.711749323 0.389297549
#>  [223] 0.175783225 0.184418412 0.508816599 0.416076494 0.186020398 0.148918428
#>  [229] 0.308930810 0.038685476 0.318874066 0.238321884 0.059284189 0.074272340
#>  [235] 0.089830843 0.200212826 0.324696460 0.210902172 0.187883339 0.279898924
#>  [241] 0.365582496 0.307768169 0.215263632 0.195462606 0.125214595 0.311324809
#>  [247] 0.114165199 0.129905732 0.261099527 0.599952656 0.540519855 0.193351838
#>  [253] 0.253359561 0.438501773 0.340374321 0.354113050 0.064468620 0.078405316
#>  [259] 0.663185868 0.069112483 0.241580436 0.193353465 0.030805839 0.089650100
#>  [265] 0.382940784 0.511105158 0.329107058 0.187243606 0.181127450 0.346698747
#>  [271] 0.092042832 0.284369516 0.094945089 0.337706203 0.241539693 0.102114691
#>  [277] 0.361972980 0.266119049 0.107017906 0.592658236 0.379117455 0.078933201
#>  [283] 0.103091851 0.157322996 0.222095457 0.187821032 0.692190198 0.507635827
#>  [289] 0.111247549 0.482735157 0.187977723 0.018519764 0.310597655 0.190734504
#>  [295] 0.135627961 0.222850154 0.098318456 0.107942485 0.408660263 0.467140647
#>  [301] 0.167929925 0.169964526 0.213674294 0.230724165 0.358632714 0.159999069
#>  [307] 0.137786655 0.334402119 0.130896482 0.047048967 0.548182705 0.193245064
#>  [313] 0.342956324 0.206420614 0.182433097 0.244583956 0.174948564 0.323334600
#>  [319] 0.348117515 0.469666893 0.379156785 0.490034329 0.175320743 0.267385586
#>  [325] 0.145260085 0.451054596 0.507007229 0.290837342 0.231750570 0.068462797
#>  [331] 0.033015826 0.038150940 0.174558813 0.136656496 0.032610438 0.028925064
#>  [337] 0.349332876 0.257306859 0.318640297 0.410874688 0.250250453 0.253279198
#>  [343] 0.127522458 0.187139932 0.139798693 0.117745692 0.062107429 0.112243548
#>  [349] 0.102590747 0.205036235 0.290061503 0.105933793 0.121820803 0.228652517
#>  [355] 0.080012285 0.231848638 0.041578179 0.252337341 0.159206779 0.416630170
#>  [361] 0.328961257 0.181649538 0.303052705 0.573381159 0.424587152 0.064987183
#>  [367] 0.173817443 0.129072232 0.400663273 0.452904414 0.172790369 0.158090709
#>  [373] 0.308779098 0.303318924 0.463540425 0.512367412 0.141275995 0.205341927
#>  [379] 0.116221884 0.273740522 0.251742060 0.158639012 0.443799806 0.207288670
#>  [385] 0.237830024 0.265211094 0.331208229 0.709980093 0.453395009 0.139425730
#>  [391] 0.207640130 0.172214364 0.180427047 0.027934874 0.343413801 0.630653687
#>  [397] 0.352679462 0.356057896 0.069783566 0.112588378 0.201716636 0.355198813
#>  [403] 0.362154664 0.394708959 0.181444674 0.057200497 0.386420490 0.125594971
#>  [409] 0.120997470 0.186965598 0.045846115 0.359701509 0.431471020 0.174793010
#>  [415] 0.341988752 0.208287759 0.309209070 0.299828532 0.137082538 0.455831952
#>  [421] 0.081539111 0.050484168 0.067622072 0.195619020 0.191988998 0.215415373
#>  [427] 0.085159529 0.063384671 0.172051414 0.114565428 0.403975030 0.196776079
#>  [433] 0.372247398 0.308715768 0.289399859 0.086644468 0.074164479 0.168207481
#>  [439] 0.199230039 0.071213526 0.106368481 0.180897543 0.274498426 0.113641963
#>  [445] 0.237076654 0.396983272 0.083383546 0.065727992 0.388226182 0.126006122
#>  [451] 0.227002209 0.099252371 0.289725359 0.471896067 0.198727550 0.053546160
#>  [457] 0.410699212 0.155550953 0.535114599 0.177315409 0.269382825 0.104732619
#>  [463] 0.128229240 0.485099843 0.437962835 0.032239613 0.051664831 0.024440378
#>  [469] 0.066622954 0.230001739 0.216433072 0.306822545 0.179021142 0.254411942
#>  [475] 0.305569537 0.314677368 0.353623352 0.180115555 0.337761698 0.456188320
#>  [481] 0.370006200 0.285956380 0.135565729 0.315790746 0.145360239 0.632538600
#>  [487] 0.148081087 0.315390233 0.392072826 0.401434388 0.196409426 0.357061053
#>  [493] 0.273536613 0.095744223 0.232539453 0.107990410 0.195077396 0.201390875
#>  [499] 0.353133667 0.455245757 0.499349003 0.413912884 0.140921691 0.045062590
#>  [505] 0.106256766 0.703122129 0.690747997 0.110933843 0.370099409 0.388854646
#>  [511] 0.124478522 0.238242673 0.314390277 0.176030123 0.151751098 0.114199187
#>  [517] 0.112061671 0.353920576 0.291465162 0.200751349 0.311872683 0.284791187
#>  [523] 0.265202262 0.592750387 0.304223361 0.188633997 0.246188095 0.334220768
#>  [529] 0.270525051 0.130368152 0.216439317 0.224291336 0.153358082 0.149481088
#>  [535] 0.015119442 0.020054148 0.234799531 0.112056349 0.056993031 0.056554473
#>  [541] 0.295765504 0.550221617 0.181739724 0.257417719 0.126842572 0.149328948
#>  [547] 0.108937528 0.072175683 0.175976875 0.092956731 0.121102785 0.156758559
#>  [553] 0.178737531 0.195745783 0.313738076 0.221983911 0.097538255 0.171784624
#>  [559] 0.351897568 0.129090790 0.112016776 0.181131564 0.119284296 0.124806821
#>  [565] 0.263538491 0.135018836 0.125891224 0.143396695 0.494052397 0.098948225
#>  [571] 0.117856750 0.538542880 0.221073944 0.245364625 0.252881669 0.417607078
#>  [577] 0.126430798 0.179401582 0.617032455 0.422132333 0.189356713 0.231441082
#>  [583] 0.078246863 0.067403883 0.255048691 0.273042682 0.134860594 0.029787641
#>  [589] 0.331250253 0.241550821 0.197909376 0.191761383 0.147664963 0.150317344
#>  [595] 0.034919631 0.052357338 0.135008838 0.606640063 0.120566947 0.330354775
#>  [601] 0.055288037 0.304242476 0.547994253 0.065451134 0.157357090 0.361964681
#>  [607] 0.054099699 0.319329166 0.309342054 0.284904722 0.071746488 0.068740489
#>  [613] 0.157999157 0.092470190 0.098206191 0.028889952 0.035117050 0.055560444
#>  [619] 0.362994775 0.449160203 0.357505806 0.428621298 0.442418066 0.212526079
#>  [625] 0.313986704 0.382530098 0.130099570 0.409025440 0.572096248 0.170975264
#>  [631] 0.164771339 0.103315076 0.085097449 0.302921460 0.286497621 0.138413103
#>  [637] 0.361763316 0.138636593 0.218171276 0.252021458 0.167727599 0.203650685
#>  [643] 0.339787608 0.203655145 0.195497243 0.781310909 0.159261646 0.227272555
#>  [649] 0.046379925 0.082298326 0.240734009 0.318934049 0.262247630 0.096317646
#>  [655] 0.092199447 0.064268178 0.407489686 0.373365663 0.199834213 0.271129581
#>  [661] 0.329920360 0.269961312 0.386260556 0.371014943 0.375383397 0.178618601
#>  [667] 0.143226726 0.219979379 0.310857373 0.140041223 0.590548728 0.383577639
#>  [673] 0.383010648 0.232195355 0.104354473 0.039104197 0.623004450 0.281913499
#>  [679] 0.412156287 0.281242863 0.155779333 0.273131334 0.264907754 0.327233113
#>  [685] 0.139597231 0.144877625 0.167673960 0.194368960 0.214603793 0.255081777
#>  [691] 0.239537174 0.191217036 0.392589738 0.329164686 0.343249223 0.295485395
#>  [697] 0.140061326 0.128010746 0.083015896 0.255810780 0.242436490 0.472793777
#>  [703] 0.279447262 0.339716426 0.152650101 0.455774499 0.717079482 0.238915282
#>  [709] 0.226122255 0.480011891 0.244993453 0.192140497 0.343520064 0.359520080
#>  [715] 0.390027346 0.425310610 0.504576257 0.233668896 0.387386564 0.482138304
#>  [721] 0.530663528 0.734104744 0.034325384 0.184761442 0.559416461 0.157244422
#>  [727] 0.303279734 0.152135832 0.457206834 0.401909313 0.065570951 0.053460770
#>  [733] 0.340327640 0.085279161 0.480806657 0.425238405 0.252074882 0.127345321
#>  [739] 0.132862935 0.147304606 0.192296264 0.364497784 0.266414169 0.340031672
#>  [745] 0.171877855 0.196213571 0.198979140 0.071106741 0.085693484 0.087147162
#>  [751] 0.159264364 0.323818966 0.232033845 0.204843791 0.457854099 0.077702906
#>  [757] 0.239039555 0.482456348 0.290245695 0.461562657 0.067171590 0.224298872
#>  [763] 0.098771049 0.227591795 0.431992706 0.476597825 0.547003023 0.385884726
#>  [769] 0.266015310 0.220789628 0.218770408 0.160612189 0.368405117 0.246722279
#>  [775] 0.273343206 0.012024494 0.215474365 0.307414078 0.150762416 0.262113692
#>  [781] 0.026003816 0.066938625 0.093770314 0.109641342 0.160754136 0.137389609
#>  [787] 0.138271402 0.104585464 0.343961635 0.246630305 0.183226706 0.175566444
#>  [793] 0.205361260 0.064451397 0.420902827 0.154148312 0.476152149 0.168439408
#>  [799] 0.372385391 0.382601783 0.040954480 0.195257735 0.241594572 0.237364782
#>  [805] 0.377200098 0.240419967 0.210154362 0.320715450 0.139348051 0.633185754
#>  [811] 0.202953446 0.279855206 0.431697992 0.528122619 0.233993497 0.271667294
#>  [817] 0.370153493 0.405865607 0.395211878 0.363001240 0.279310068 0.185924796
#>  [823] 0.195880502 0.226005709 0.443267676 0.229894258 0.198981269 0.104811198
#>  [829] 0.332905633 0.330145867 0.235286138 0.280076001 0.373190614 0.080772527
#>  [835] 0.273896653 0.259755972 0.265847713 0.540574129 0.319377082 0.377337593
#>  [841] 0.105776876 0.086063242 0.192162466 0.368562058 0.116437510 0.126700454
#>  [847] 0.125930544 0.206210590 0.384151998 0.065545992 0.654058114 0.611338320
#>  [853] 0.052118659 0.131268877 0.047992389 0.092723463 0.061007596 0.154418494
#>  [859] 0.090306421 0.118405895 0.124708898 0.388757228 0.038287581 0.307467965
#>  [865] 0.126249321 0.305481749 0.213343381 0.118512387 0.201689738 0.205307347
#>  [871] 0.438102018 0.161904003 0.003998984 0.090031425 0.042449071 0.111214079
#>  [877] 0.384122600 0.312240038 0.399415757 0.288641432 0.100838119 0.039056360
#>  [883] 0.159257587 0.287500595 0.239867379 0.296329536 0.136069402 0.244928914
#>  [889] 0.120599508 0.147074982 0.114682473 0.151355894 0.420545998 0.204679865
#>  [895] 0.391229892 0.165899977 0.726373594 0.048293477 0.089182714 0.212716670
#>  [901] 0.545536671 0.395098475 0.066198001 0.307983799 0.161907660 0.051635724
#>  [907] 0.141537439 0.076193319 0.150759995 0.363140034 0.472912160 0.032545082
#>  [913] 0.057157170 0.271713317 0.403415912 0.329116999 0.231652695 0.047098466
#>  [919] 0.104579500 0.255712292 0.359541168 0.060733781 0.322446576 0.180384745
#>  [925] 0.162053682 0.425308847 0.240967476 0.328288319 0.273457085 0.141646908
#>  [931] 0.515284933 0.383682661 0.526044849 0.310279255 0.210275535 0.219537830
#>  [937] 0.507538650 0.153824703 0.045729428 0.175053450 0.119442790 0.083077318
#>  [943] 0.067663408 0.186118038 0.161102756 0.172785952 0.242571791 0.382543766
#>  [949] 0.312287447 0.313355480 0.265376275 0.398262435 0.333611971 0.254996046
#>  [955] 0.158160951 0.196658920 0.212358775 0.137759390 0.458975931 0.371813659
#>  [961] 0.190244060 0.295141225 0.124326789 0.169826769 0.203900716 0.393091717
#>  [967] 0.048828656 0.058296063 0.105512340 0.222469816 0.208274759 0.057021437
#>  [973] 0.121217695 0.542843986 0.374451673 0.176319561 0.096883874 0.076720695
#>  [979] 0.339803820 0.453621597 0.361085412 0.253691988 0.332622565 0.440397824
#>  [985] 0.264412207 0.240005103 0.371147884 0.543019042 0.199826085 0.287716160
#>  [991] 0.380690402 0.068505551 0.087733820 0.465693864 0.199800979 0.062914757
#>  [997] 0.219560420 0.386681870 0.114035463 0.250016933
```
