# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.21006415 0.14157199 0.46361843 0.21781961 0.29028390 0.16829272
#>    [7] 0.17169737 0.10665793 0.36153353 0.03538790 0.14481988 0.25269232
#>   [13] 0.27008471 0.29953510 0.26982792 0.19282916 0.26375364 0.21979432
#>   [19] 0.11134665 0.07760367 0.16874697 0.40790300 0.24471445 0.44099099
#>   [25] 0.29389840 0.64208224 0.26906200 0.17461658 0.43396786 0.24445413
#>   [31] 0.27253866 0.18493555 0.30068584 0.13481561 0.07689147 0.15780198
#>   [37] 0.13111253 0.28820424 0.18729287 0.20636957 0.35730560 0.34458512
#>   [43] 0.11301476 0.21200359 0.45219594 0.43141278 0.07736933 0.12304087
#>   [49] 0.17608614 0.08541761 0.17794346 0.20765008 0.15159147 0.19379776
#>   [55] 0.10386120 0.38494555 0.02595445 0.36352019 0.14291408 0.39790911
#>   [61] 0.19829081 0.33728174 0.22177115 0.15841363 0.27654989 0.12680785
#>   [67] 0.17452165 0.27091764 0.29201778 0.11136633 0.13710870 0.11673160
#>   [73] 0.39416381 0.31366686 0.11863868 0.39316753 0.25766520 0.46826847
#>   [79] 0.22700067 0.35262948 0.40304306 0.12614706 0.30630236 0.31652540
#>   [85] 0.15607213 0.08427802 0.24156995 0.06373798 0.17582602 0.28484772
#>   [91] 0.12864243 0.05801594 0.05235871 0.05687723 0.11502033 0.10842849
#>   [97] 0.13879996 0.15789352 0.10832515 0.16571616 0.47685319 0.09353319
#>  [103] 0.08056940 0.15969944 0.05661691 0.35678343 0.56776060 0.60291025
#>  [109] 0.23033898 0.43914799 0.53706817 0.12438412 0.15239293 0.39664026
#>  [115] 0.37100474 0.30020227 0.46859084 0.22314116 0.33864624 0.13826231
#>  [121] 0.07838496 0.26708903 0.29054571 0.31376225 0.08804051 0.27474228
#>  [127] 0.25590446 0.32191964 0.12432047 0.30612372 0.36578186 0.17294342
#>  [133] 0.08781702 0.11528174 0.14005724 0.24973964 0.12403881 0.53430804
#>  [139] 0.43077974 0.23143643 0.19600586 0.45001493 0.33778903 0.48043282
#>  [145] 0.72913176 0.63866222 0.53011112 0.13781410 0.26834046 0.07873672
#>  [151] 0.07413292 0.35522428 0.10824242 0.26069049 0.31943153 0.26083325
#>  [157] 0.33044481 0.16422371 0.12094617 0.05962962 0.28805153 0.21691144
#>  [163] 0.43553633 0.28311756 0.17408774 0.23051003 0.20206099 0.12190325
#>  [169] 0.05967323 0.18031079 0.17083137 0.23019041 0.13424562 0.16892536
#>  [175] 0.12381358 0.03086504 0.02894665 0.09819569 0.33931353 0.27893996
#>  [181] 0.47532711 0.55346023 0.45357459 0.38035269 0.06944925 0.12900835
#>  [187] 0.19120114 0.05028833 0.13588937 0.21772376 0.24449362 0.20441470
#>  [193] 0.03799446 0.20785277 0.23860004 0.22009162 0.27175864 0.32855800
#>  [199] 0.51325930 0.10645447 0.09926885 0.02822460 0.68519653 0.60885104
#>  [205] 0.50300966 0.52998341 0.63314664 0.29657140 0.32358293 0.08711658
#>  [211] 0.13855326 0.37180523 0.13570080 0.42627645 0.42982085 0.30582453
#>  [217] 0.30105037 0.12641800 0.14749981 0.03785841 0.23758557 0.06693380
#>  [223] 0.05970704 0.36236109 0.25026840 0.39233628 0.19963160 0.24469721
#>  [229] 0.21019984 0.14409300 0.08683331 0.19950265 0.25120006 0.35246506
#>  [235] 0.17628271 0.29602893 0.22510335 0.20342679 0.33621968 0.11650128
#>  [241] 0.33039407 0.22829597 0.23649687 0.19179198 0.10456635 0.33501762
#>  [247] 0.24305971 0.59700882 0.04399817 0.44871290 0.21208498 0.35937002
#>  [253] 0.36399699 0.15046104 0.20571829 0.20883956 0.20582117 0.23474996
#>  [259] 0.11445706 0.21112498 0.28082695 0.22954345 0.24341393 0.08781377
#>  [265] 0.07820843 0.15404844 0.19061909 0.37373734 0.30377961 0.12142520
#>  [271] 0.23781530 0.19285569 0.07676250 0.38753968 0.22752478 0.31652315
#>  [277] 0.25685790 0.51688358 0.14475602 0.47997239 0.17572591 0.16095746
#>  [283] 0.16279168 0.17398948 0.56421578 0.14625274 0.04974268 0.03715461
#>  [289] 0.05895678 0.24449492 0.37839699 0.15430925 0.52248627 0.54453955
#>  [295] 0.42774353 0.33794656 0.24134735 0.27805024 0.21125976 0.20686824
#>  [301] 0.22893568 0.33759615 0.37287638 0.39396205 0.16052166 0.30455659
#>  [307] 0.46836613 0.46073439 0.32878024 0.32489517 0.38717238 0.24778970
#>  [313] 0.44949476 0.07880701 0.11617850 0.08238826 0.14786768 0.06940661
#>  [319] 0.08976579 0.33355896 0.21398442 0.30220681 0.20790271 0.26819571
#>  [325] 0.34775366 0.32051240 0.28777090 0.28267332 0.17975892 0.15137542
#>  [331] 0.44530294 0.38195833 0.15422988 0.24270126 0.10463874 0.15955079
#>  [337] 0.36691187 0.13183732 0.45036663 0.09708660 0.13038983 0.25053888
#>  [343] 0.43424562 0.07365026 0.03463200 0.13537009 0.21457982 0.06534612
#>  [349] 0.06873959 0.13160847 0.12994714 0.09362844 0.06862211 0.19995275
#>  [355] 0.03800533 0.07114360 0.51401917 0.07179683 0.21301501 0.25941008
#>  [361] 0.32132970 0.15560589 0.38000454 0.12247044 0.31082261 0.10513583
#>  [367] 0.06619696 0.22839792 0.04536599 0.15085250 0.19101549 0.32875734
#>  [373] 0.19202373 0.28935277 0.29667885 0.38262169 0.11604286 0.10135253
#>  [379] 0.13802872 0.33936213 0.29538102 0.13904391 0.39386841 0.33737246
#>  [385] 0.15880543 0.07519764 0.05480889 0.12131631 0.16073270 0.30515365
#>  [391] 0.17938852 0.32670239 0.10316125 0.32262042 0.54657585 0.21511069
#>  [397] 0.28180360 0.26426398 0.29539452 0.03982653 0.15987629 0.29539270
#>  [403] 0.12645049 0.29602544 0.29102038 0.48279054 0.25189424 0.18566856
#>  [409] 0.09192886 0.15151054 0.26719579 0.30053979 0.17420305 0.38258123
#>  [415] 0.39087447 0.38680826 0.49652466 0.29229990 0.14584289 0.14424277
#>  [421] 0.12271757 0.11180679 0.39177891 0.45520750 0.42168051 0.29116746
#>  [427] 0.10802225 0.08570679 0.32250469 0.32656627 0.17702151 0.53262581
#>  [433] 0.08934447 0.17152291 0.09348171 0.12616865 0.38281283 0.20209872
#>  [439] 0.17167335 0.20553766 0.27706112 0.06676581 0.17649784 0.06296018
#>  [445] 0.18939962 0.28022685 0.51306014 0.21044152 0.23263699 0.10558163
#>  [451] 0.11776033 0.18665476 0.04082670 0.11551427 0.21219320 0.22664063
#>  [457] 0.29450511 0.64926559 0.32069349 0.11405048 0.14373846 0.21569401
#>  [463] 0.33475777 0.05255540 0.27286285 0.40212487 0.42123816 0.24139411
#>  [469] 0.22256855 0.25384616 0.16598091 0.12826341 0.59851051 0.09399520
#>  [475] 0.08702280 0.14977080 0.14889138 0.15740345 0.57270296 0.33435699
#>  [481] 0.32223940 0.42058938 0.56632473 0.33638556 0.09302768 0.23674043
#>  [487] 0.26209640 0.39793001 0.27519322 0.17367298 0.04145336 0.05071428
#>  [493] 0.17737816 0.36696887 0.05983709 0.20466178 0.38020502 0.36676839
#>  [499] 0.08182034 0.30336517 0.11362909 0.38076520 0.04520342 0.37721363
#>  [505] 0.08230092 0.20915036 0.73383479 0.54007688 0.18673625 0.33664692
#>  [511] 0.21665214 0.08891371 0.24305481 0.32434184 0.37056967 0.29261808
#>  [517] 0.46063806 0.24280185 0.03587051 0.42952393 0.28132791 0.21628701
#>  [523] 0.14116783 0.14160502 0.31188184 0.47584164 0.05896865 0.16078185
#>  [529] 0.30167630 0.22936059 0.06489734 0.11679537 0.21343439 0.22447540
#>  [535] 0.10805114 0.23215278 0.24086212 0.27888321 0.36165586 0.31799579
#>  [541] 0.29980676 0.47366668 0.39007356 0.27356314 0.37301991 0.20577691
#>  [547] 0.25134571 0.07107255 0.06145952 0.24335185 0.20529583 0.32589391
#>  [553] 0.13546555 0.12732205 0.77691631 0.59676339 0.47623220 0.32390154
#>  [559] 0.22304206 0.23042058 0.33685491 0.11717163 0.06107071 0.08765350
#>  [565] 0.45338704 0.07642827 0.21034979 0.62752377 0.45517690 0.29651809
#>  [571] 0.11216779 0.37623201 0.13619222 0.13851635 0.38406539 0.60156985
#>  [577] 0.10601042 0.14865975 0.10074942 0.14128923 0.14616346 0.37566779
#>  [583] 0.31790660 0.33554354 0.20607008 0.13310271 0.23743681 0.28979156
#>  [589] 0.11708236 0.29732549 0.31814505 0.29427440 0.49834288 0.25730093
#>  [595] 0.32172914 0.06130287 0.08584504 0.36179209 0.19220927 0.19200604
#>  [601] 0.20838496 0.23664126 0.37303602 0.07446031 0.05271403 0.39072949
#>  [607] 0.16910368 0.35922516 0.25601843 0.26765653 0.21290414 0.51697891
#>  [613] 0.45258998 0.11480510 0.14688886 0.13899701 0.38352663 0.31084744
#>  [619] 0.15361691 0.06653221 0.08979057 0.24170391 0.28807801 0.25027464
#>  [625] 0.22151813 0.34864960 0.18785154 0.54602374 0.24832072 0.33023548
#>  [631] 0.12010017 0.52838591 0.13360499 0.13436052 0.51177717 0.18713330
#>  [637] 0.14464586 0.15322831 0.19181436 0.08485634 0.36880919 0.24296947
#>  [643] 0.19844692 0.12028068 0.37494031 0.34817673 0.16005373 0.18330548
#>  [649] 0.14098169 0.26956775 0.10516924 0.35000284 0.23239672 0.12491093
#>  [655] 0.16469725 0.04969327 0.06588817 0.02135368 0.16636978 0.11250795
#>  [661] 0.11560610 0.25232663 0.14186157 0.05268214 0.25149628 0.23494447
#>  [667] 0.49306301 0.21222402 0.21827740 0.48918797 0.27269014 0.29359665
#>  [673] 0.20169074 0.09341779 0.03060045 0.01449889 0.20918548 0.19178620
#>  [679] 0.10309266 0.11076401 0.27943704 0.16890742 0.30316572 0.09982867
#>  [685] 0.50775608 0.11617140 0.16349551 0.15511136 0.33624251 0.22270903
#>  [691] 0.26416641 0.30744660 0.33457530 0.10413074 0.21797610 0.09103636
#>  [697] 0.11369537 0.17717145 0.14730635 0.06532978 0.09900036 0.22251063
#>  [703] 0.32597371 0.01972173 0.07409604 0.29417538 0.16868170 0.11544795
#>  [709] 0.16018344 0.19667289 0.27470851 0.27187672 0.31276291 0.09205205
#>  [715] 0.44735533 0.37513296 0.18904604 0.16341437 0.14078222 0.09323919
#>  [721] 0.48411672 0.38865119 0.45001713 0.11323264 0.22226464 0.22115383
#>  [727] 0.21495388 0.31616435 0.21023600 0.11036594 0.26850336 0.31818001
#>  [733] 0.03790344 0.19456420 0.16391081 0.16270678 0.20436005 0.11346892
#>  [739] 0.13170367 0.31431268 0.04085821 0.15158792 0.12508364 0.23939892
#>  [745] 0.08691887 0.09530075 0.40292625 0.22650441 0.21954003 0.10849082
#>  [751] 0.04140146 0.13257242 0.07705433 0.02268614 0.07796402 0.04505326
#>  [757] 0.67867101 0.24991182 0.18671692 0.13871594 0.30638324 0.33224942
#>  [763] 0.13768048 0.17055505 0.32341683 0.68015009 0.09904048 0.24349241
#>  [769] 0.11454316 0.36428178 0.49090562 0.35702624 0.21449724 0.24499883
#>  [775] 0.14413315 0.12456151 0.15762288 0.32894301 0.23678192 0.26157023
#>  [781] 0.28998786 0.11427365 0.09614011 0.03611673 0.06578241 0.15286927
#>  [787] 0.48154416 0.42906280 0.30403974 0.33478627 0.20598162 0.28157333
#>  [793] 0.40230104 0.50275081 0.24513703 0.13742882 0.34655295 0.22767586
#>  [799] 0.18539974 0.21398300 0.22777593 0.19379393 0.23700213 0.14328787
#>  [805] 0.13181283 0.14612849 0.23165197 0.18155211 0.47316002 0.30892203
#>  [811] 0.06988714 0.07440248 0.12409455 0.10367591 0.25610308 0.51554922
#>  [817] 0.18850212 0.29134525 0.39677021 0.13385776 0.26250490 0.12060844
#>  [823] 0.20004833 0.11408290 0.23004885 0.35771773 0.21388228 0.14350016
#>  [829] 0.17808967 0.48458517 0.46394081 0.21889153 0.15334142 0.11425436
#>  [835] 0.09979226 0.29363634 0.40877481 0.09890033 0.01873664 0.04228054
#>  [841] 0.11698293 0.43452848 0.25857504 0.05080835 0.25750900 0.47541581
#>  [847] 0.15144043 0.09455584 0.10241416 0.09818684 0.08653662 0.28479571
#>  [853] 0.23692794 0.14425813 0.24779487 0.16183595 0.09882850 0.17585750
#>  [859] 0.51968599 0.20361915 0.08807092 0.26389547 0.12678636 0.35860403
#>  [865] 0.35978746 0.33610756 0.17525951 0.37512049 0.23203227 0.19495227
#>  [871] 0.07438477 0.07219377 0.53364456 0.15824327 0.35592605 0.01939171
#>  [877] 0.03221347 0.29156591 0.25889235 0.15484222 0.17715907 0.22299675
#>  [883] 0.40762145 0.09467689 0.11384253 0.39357734 0.50212024 0.10135708
#>  [889] 0.23988356 0.15137158 0.39202462 0.31404255 0.28066444 0.18833413
#>  [895] 0.28434941 0.44584428 0.12533464 0.03712355 0.19711405 0.26244850
#>  [901] 0.26665540 0.30458805 0.30225115 0.18765790 0.15054239 0.20733105
#>  [907] 0.35496601 0.06336306 0.07127982 0.21679235 0.04259130 0.20776080
#>  [913] 0.27901074 0.19963262 0.13263564 0.28470332 0.21074909 0.29068249
#>  [919] 0.35844697 0.06497985 0.34912596 0.39102750 0.24904306 0.13596455
#>  [925] 0.04369380 0.47147559 0.26122934 0.26077817 0.07996000 0.34565316
#>  [931] 0.24862534 0.14736596 0.15225519 0.17358699 0.11068432 0.02345667
#>  [937] 0.01014457 0.34768468 0.04621584 0.03515489 0.46814465 0.16579260
#>  [943] 0.33163258 0.44282963 0.30979209 0.10078851 0.19579826 0.22374984
#>  [949] 0.06219136 0.22705555 0.15303296 0.11697567 0.13612153 0.36347659
#>  [955] 0.38834751 0.23326554 0.05929457 0.21645483 0.27349172 0.29524395
#>  [961] 0.20536766 0.18720713 0.02982715 0.07638995 0.20129174 0.09731035
#>  [967] 0.16183024 0.38153356 0.21129998 0.12845812 0.25363433 0.21145417
#>  [973] 0.41100960 0.09882542 0.07696871 0.07301035 0.15051603 0.22735920
#>  [979] 0.28101616 0.48097028 0.28619351 0.10197775 0.30846356 0.36633956
#>  [985] 0.43540843 0.44548200 0.21194504 0.09474361 0.11934617 0.19566380
#>  [991] 0.07734620 0.25726881 0.32454630 0.09855133 0.33586985 0.07874378
#>  [997] 0.25901384 0.28264963 0.36065068 0.14186813
```
