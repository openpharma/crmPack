# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.13005585 0.27903559 0.34276291 0.27224508 0.26515695 0.16876305
#>    [7] 0.23728295 0.53560548 0.50412937 0.25996089 0.46966539 0.18580619
#>   [13] 0.20300436 0.21972753 0.22500394 0.07844664 0.29627727 0.27794137
#>   [19] 0.36104454 0.50681125 0.07090678 0.22427309 0.38700003 0.24277288
#>   [25] 0.16245517 0.23626461 0.39385843 0.15690077 0.22110340 0.29036538
#>   [31] 0.42231955 0.08643605 0.22739817 0.42415992 0.06189921 0.08136638
#>   [37] 0.30066973 0.57279492 0.53088106 0.33485226 0.33608920 0.06609217
#>   [43] 0.20222482 0.19048150 0.23442319 0.44276215 0.42212084 0.23744011
#>   [49] 0.52200699 0.25460924 0.61130055 0.05533697 0.16730156 0.43652691
#>   [55] 0.03479208 0.08259487 0.10064536 0.25048297 0.31990829 0.14736813
#>   [61] 0.09193825 0.12665108 0.23752693 0.19373946 0.31607275 0.28459285
#>   [67] 0.07122276 0.25153179 0.11143019 0.20896072 0.19476332 0.21351377
#>   [73] 0.67898484 0.19936424 0.09763638 0.45634467 0.23781773 0.06031069
#>   [79] 0.08474762 0.08629797 0.13796450 0.17272030 0.37930212 0.14700450
#>   [85] 0.11064259 0.50811654 0.36524905 0.15965380 0.18807968 0.05971289
#>   [91] 0.21209997 0.16940237 0.25068013 0.34218595 0.38898199 0.39873249
#>   [97] 0.12294897 0.08927171 0.03240527 0.12426915 0.49876405 0.10533185
#>  [103] 0.39764574 0.15857959 0.17141198 0.42525709 0.23672451 0.16978810
#>  [109] 0.14583797 0.54077528 0.40166184 0.16442777 0.19073582 0.27448812
#>  [115] 0.46628087 0.60378804 0.19460279 0.29143504 0.20095286 0.32343015
#>  [121] 0.18531456 0.31774150 0.48914559 0.13125152 0.36135290 0.22996998
#>  [127] 0.38418394 0.33301555 0.29471878 0.35758180 0.17000693 0.24219725
#>  [133] 0.19002791 0.10113431 0.46354471 0.22125955 0.55433748 0.33200073
#>  [139] 0.20891903 0.28782898 0.09819072 0.05351752 0.36654764 0.22594235
#>  [145] 0.00461178 0.10798033 0.17203348 0.05804709 0.14735629 0.16698993
#>  [151] 0.11943993 0.39941231 0.44209024 0.39082080 0.24644241 0.18986431
#>  [157] 0.06429677 0.05598819 0.09943332 0.25188255 0.19342976 0.11632540
#>  [163] 0.18860860 0.08779258 0.39844100 0.16035024 0.19953435 0.48205912
#>  [169] 0.23243257 0.19955294 0.33608487 0.26177272 0.26112139 0.28414130
#>  [175] 0.39142980 0.33703083 0.24655692 0.18233512 0.27810709 0.13625083
#>  [181] 0.26062124 0.31549540 0.31613849 0.19590707 0.43350970 0.42754460
#>  [187] 0.42011194 0.10810424 0.31219980 0.05870667 0.23435503 0.36985413
#>  [193] 0.16132334 0.18327802 0.09829127 0.33841497 0.28121623 0.37235679
#>  [199] 0.18165811 0.11808844 0.13430312 0.45925383 0.31099865 0.24462195
#>  [205] 0.11121616 0.19868869 0.17715744 0.13379758 0.24201923 0.51925337
#>  [211] 0.74605924 0.18870342 0.27439388 0.15138875 0.16204364 0.20888326
#>  [217] 0.30652027 0.31660432 0.26905473 0.08753321 0.43895690 0.14780784
#>  [223] 0.26585314 0.27062203 0.21577203 0.19343274 0.17161675 0.14068787
#>  [229] 0.12067569 0.38841442 0.18728001 0.38934808 0.37569785 0.30472939
#>  [235] 0.49418427 0.12719917 0.12977529 0.17087945 0.33429928 0.05436306
#>  [241] 0.42564872 0.15039711 0.16651589 0.34085717 0.17133541 0.30123937
#>  [247] 0.47468391 0.11924582 0.08832485 0.10923365 0.06680442 0.21369566
#>  [253] 0.09928593 0.03613827 0.19424457 0.11657047 0.16776020 0.18545476
#>  [259] 0.27741260 0.12039842 0.29959601 0.09893004 0.09658297 0.54508761
#>  [265] 0.39366279 0.13880348 0.44702305 0.09179370 0.30059485 0.29206892
#>  [271] 0.23226126 0.02713154 0.02687436 0.36670498 0.45999746 0.13247419
#>  [277] 0.10913836 0.20958278 0.11975763 0.39863574 0.18836138 0.18729494
#>  [283] 0.56374214 0.14287250 0.25029011 0.42115619 0.44789328 0.07244937
#>  [289] 0.03639384 0.22945684 0.26966962 0.35189972 0.20579624 0.35013146
#>  [295] 0.41769162 0.07186786 0.13567991 0.24470749 0.17058097 0.25955718
#>  [301] 0.33672950 0.39888619 0.13319314 0.29888552 0.13194952 0.48474443
#>  [307] 0.11925614 0.03316560 0.07809962 0.14101475 0.16723920 0.16528332
#>  [313] 0.10874670 0.13282925 0.28028837 0.18098343 0.41045987 0.39793943
#>  [319] 0.22545186 0.32798151 0.20432101 0.33956747 0.30322815 0.17225118
#>  [325] 0.39030448 0.47967018 0.16652558 0.20648104 0.28746831 0.39048394
#>  [331] 0.34336376 0.18511373 0.12997558 0.41615969 0.32891740 0.42970840
#>  [337] 0.24182580 0.15868919 0.13541504 0.30930869 0.40925829 0.32378689
#>  [343] 0.13677632 0.45991806 0.11008632 0.19956788 0.50157420 0.29471151
#>  [349] 0.24484208 0.53796951 0.47042515 0.31696007 0.40813717 0.16930611
#>  [355] 0.23691911 0.46965173 0.48687005 0.21726357 0.13657533 0.17531364
#>  [361] 0.27482524 0.36472969 0.22663561 0.19488415 0.23649353 0.21023008
#>  [367] 0.14654699 0.56509371 0.39873812 0.55287882 0.17465335 0.44210532
#>  [373] 0.16275742 0.68756935 0.45999830 0.27658769 0.19516240 0.26665255
#>  [379] 0.15207017 0.20437584 0.32794964 0.36116492 0.23310150 0.35916886
#>  [385] 0.23650226 0.21723942 0.41086758 0.17189375 0.13307008 0.26604099
#>  [391] 0.22291699 0.20795528 0.19001688 0.26632908 0.22871968 0.12704092
#>  [397] 0.36333443 0.22616013 0.35329114 0.40016935 0.26809926 0.21062153
#>  [403] 0.16739112 0.11552607 0.17519523 0.08127545 0.20744978 0.42210601
#>  [409] 0.34684788 0.38285892 0.15310813 0.26918899 0.15356817 0.38415565
#>  [415] 0.12989021 0.45866054 0.14752462 0.50271199 0.18660857 0.17329699
#>  [421] 0.17413459 0.15554202 0.24747446 0.34931334 0.21663769 0.27121035
#>  [427] 0.14376947 0.16318356 0.31722042 0.14626591 0.13029256 0.41963768
#>  [433] 0.03595645 0.06315865 0.06040132 0.16661710 0.16293380 0.23648207
#>  [439] 0.12568319 0.23404986 0.14920192 0.50419441 0.16185977 0.13890024
#>  [445] 0.14477216 0.30215375 0.22022247 0.12480668 0.20523331 0.07039525
#>  [451] 0.24420589 0.14024663 0.31825177 0.36838469 0.22250226 0.34576591
#>  [457] 0.13779415 0.40075573 0.22601075 0.39171885 0.24052999 0.18705920
#>  [463] 0.10662515 0.03471949 0.19299129 0.15151434 0.16773194 0.34564770
#>  [469] 0.16285491 0.33505157 0.34991933 0.03802952 0.32850890 0.09467876
#>  [475] 0.23432370 0.11470888 0.23226756 0.20999922 0.05174987 0.13322424
#>  [481] 0.20287386 0.15108176 0.32036564 0.11548557 0.28321865 0.28446992
#>  [487] 0.18331582 0.21080250 0.27151679 0.24624535 0.22870901 0.44418364
#>  [493] 0.26179314 0.28726391 0.26848072 0.29205787 0.03622843 0.77211259
#>  [499] 0.20564037 0.24267748 0.24602782 0.04576321 0.06112065 0.30965712
#>  [505] 0.53465987 0.25097649 0.20247536 0.13507563 0.05958789 0.24296650
#>  [511] 0.08957081 0.39453869 0.14474578 0.04381805 0.33519380 0.24298248
#>  [517] 0.08936135 0.05952159 0.32779766 0.23957683 0.38579480 0.41669443
#>  [523] 0.41312286 0.39959636 0.51563870 0.05112730 0.35243132 0.16653752
#>  [529] 0.18941738 0.31920533 0.11768438 0.17284698 0.06403696 0.39742173
#>  [535] 0.28443613 0.27930472 0.19621398 0.33695071 0.19671405 0.39107885
#>  [541] 0.24275899 0.26570356 0.21819045 0.11330351 0.09264654 0.12169622
#>  [547] 0.07093092 0.07247957 0.04334417 0.14405460 0.17597913 0.13075505
#>  [553] 0.11241509 0.09032983 0.08577367 0.13082295 0.34325386 0.36254201
#>  [559] 0.01904998 0.14120945 0.15207285 0.08064323 0.03425981 0.04034169
#>  [565] 0.06919855 0.18767221 0.21370927 0.17539521 0.23556033 0.13336390
#>  [571] 0.28901206 0.29655182 0.44693462 0.09754208 0.17763592 0.19496525
#>  [577] 0.17682582 0.10172659 0.29243997 0.16208129 0.24067432 0.23201442
#>  [583] 0.12335471 0.09526107 0.26516186 0.25832550 0.09110187 0.61907143
#>  [589] 0.36074835 0.22999341 0.29990930 0.43628265 0.27469519 0.15968985
#>  [595] 0.17924017 0.21859854 0.25201373 0.10474079 0.38783642 0.29979743
#>  [601] 0.18554460 0.17323215 0.47552455 0.39798029 0.12672201 0.42666609
#>  [607] 0.26056426 0.04764219 0.05669906 0.11448266 0.21452719 0.20191056
#>  [613] 0.38659248 0.11062997 0.21410059 0.28821600 0.60099334 0.26772673
#>  [619] 0.24883113 0.18171611 0.09724823 0.39255372 0.16590446 0.13822212
#>  [625] 0.03096362 0.16813514 0.13209388 0.13541991 0.11448685 0.19240241
#>  [631] 0.31807204 0.12337606 0.27842880 0.22655343 0.31879322 0.35054695
#>  [637] 0.38435244 0.09911606 0.29195444 0.19860942 0.18218313 0.05592371
#>  [643] 0.22321722 0.06873069 0.41577036 0.09309545 0.18820032 0.19335861
#>  [649] 0.08791437 0.23185798 0.11853629 0.10341730 0.13981504 0.11028248
#>  [655] 0.01927964 0.41131430 0.43027271 0.13340448 0.36996503 0.15893808
#>  [661] 0.13281367 0.10539095 0.14723176 0.20746570 0.18400595 0.25164476
#>  [667] 0.22218544 0.11172663 0.12435399 0.17776658 0.03862251 0.12237927
#>  [673] 0.25516885 0.15956812 0.32274942 0.27495030 0.07600082 0.04688298
#>  [679] 0.02495190 0.02422024 0.04622551 0.21334289 0.10224700 0.10192677
#>  [685] 0.11669760 0.08697737 0.26896085 0.33522131 0.02308427 0.40385825
#>  [691] 0.53628504 0.10691054 0.34762724 0.07230748 0.13838466 0.14116833
#>  [697] 0.10223561 0.58016311 0.29377323 0.30977439 0.20168180 0.20000462
#>  [703] 0.14065879 0.05936968 0.03870736 0.37683930 0.18640846 0.21012133
#>  [709] 0.11224814 0.23014045 0.31690309 0.12227059 0.20973980 0.30435765
#>  [715] 0.28364485 0.44551943 0.13274332 0.17412517 0.24313410 0.60785196
#>  [721] 0.71812901 0.04057552 0.12421614 0.10785151 0.04070549 0.08526092
#>  [727] 0.10340795 0.16108913 0.39379093 0.46990307 0.12222699 0.31788510
#>  [733] 0.17066987 0.17595341 0.30051626 0.19369572 0.11465014 0.24834841
#>  [739] 0.21474200 0.16700016 0.16224782 0.23246990 0.07664137 0.33073276
#>  [745] 0.14328792 0.28150149 0.30230759 0.43124007 0.26378404 0.57007807
#>  [751] 0.30650551 0.39949950 0.29347315 0.18063094 0.22467213 0.30483144
#>  [757] 0.33803307 0.38040720 0.30839107 0.24017492 0.30229331 0.35264382
#>  [763] 0.14031097 0.01526247 0.14182134 0.23186610 0.27440900 0.33864656
#>  [769] 0.40791587 0.07234856 0.07470097 0.31984240 0.25610916 0.32556196
#>  [775] 0.27346027 0.38985843 0.13026198 0.14593286 0.05634332 0.56575068
#>  [781] 0.23174227 0.64513309 0.29765722 0.20947069 0.36675251 0.30396742
#>  [787] 0.52442761 0.47271282 0.27823000 0.08420424 0.36764083 0.27008080
#>  [793] 0.05761001 0.06785531 0.03418400 0.33289557 0.11608693 0.34926613
#>  [799] 0.35070249 0.43462666 0.10267665 0.23528253 0.31407630 0.18324478
#>  [805] 0.25711097 0.13137566 0.36340197 0.05560175 0.44520096 0.41685566
#>  [811] 0.28654693 0.25008705 0.49315383 0.29354043 0.32442814 0.29394464
#>  [817] 0.11344109 0.41399653 0.19186642 0.19520509 0.43906892 0.17769937
#>  [823] 0.09452433 0.12234278 0.23476832 0.34937493 0.21068878 0.29272442
#>  [829] 0.16621382 0.23185625 0.45176963 0.38718100 0.49665996 0.17159822
#>  [835] 0.24709912 0.34341923 0.27589857 0.25366148 0.46493373 0.29563238
#>  [841] 0.15752915 0.30016938 0.48507820 0.34328307 0.15111076 0.36698488
#>  [847] 0.27521072 0.37009551 0.17243978 0.25790558 0.14919357 0.06178137
#>  [853] 0.03764187 0.24620881 0.11299223 0.21599249 0.14395534 0.19546532
#>  [859] 0.38328745 0.27236626 0.28484586 0.30058593 0.23018799 0.28028079
#>  [865] 0.21915600 0.11205553 0.12272406 0.14738631 0.12083837 0.36306610
#>  [871] 0.06069114 0.12243999 0.11792104 0.29804451 0.28564030 0.44937411
#>  [877] 0.28279269 0.16695909 0.11793524 0.31805184 0.50375276 0.06651531
#>  [883] 0.14777341 0.27051161 0.13115669 0.30172401 0.21124795 0.30560864
#>  [889] 0.28336866 0.22164513 0.41641852 0.33936295 0.24286890 0.07324462
#>  [895] 0.08509019 0.14106348 0.17885397 0.42845480 0.10655791 0.25657951
#>  [901] 0.15281944 0.34395442 0.44345027 0.33043872 0.26999784 0.10268515
#>  [907] 0.20208391 0.17155072 0.08216396 0.13287107 0.07516769 0.16157167
#>  [913] 0.56611676 0.41283919 0.26920440 0.33172846 0.09823752 0.40002789
#>  [919] 0.11661517 0.08732885 0.10544163 0.05358349 0.06561007 0.37462070
#>  [925] 0.25171623 0.12274724 0.19723203 0.30522376 0.39320741 0.23023143
#>  [931] 0.34695841 0.65643802 0.04754160 0.08933762 0.14726615 0.11935843
#>  [937] 0.03235197 0.28105776 0.35725077 0.17965811 0.31955543 0.18819553
#>  [943] 0.05850351 0.14376021 0.41139927 0.09458362 0.10125944 0.60746694
#>  [949] 0.30014893 0.17009945 0.28209332 0.35074456 0.21812560 0.42238781
#>  [955] 0.12919378 0.51544259 0.43966191 0.50819296 0.18050960 0.13790685
#>  [961] 0.18687313 0.06274485 0.16578830 0.20756245 0.01962771 0.03150166
#>  [967] 0.19848053 0.26713081 0.01368986 0.31183944 0.06957755 0.05754087
#>  [973] 0.03798131 0.08126024 0.26762460 0.15875440 0.14991574 0.09777349
#>  [979] 0.09957501 0.09681781 0.05067995 0.21190892 0.35290608 0.20334219
#>  [985] 0.11274825 0.09691747 0.05691418 0.02978850 0.05434546 0.24381458
#>  [991] 0.17911054 0.08227317 0.24634741 0.06469640 0.34503037 0.25698178
#>  [997] 0.25274985 0.12389112 0.10364119 0.12979955
```
