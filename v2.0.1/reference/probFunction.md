# Getting the Prob Function for a Given Model Type

**\[experimental\]**

A function that returns a
[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes the toxicity probabilities for a given dose
level, based on the model specific parameters.

## Usage

``` r
probFunction(model, ...)

# S4 method for class 'GeneralModel'
probFunction(model, ...)

# S4 method for class 'ModelTox'
probFunction(model, ...)

# S4 method for class 'LogisticLogNormalOrdinal'
probFunction(model, grade, ...)
```

## Arguments

- model:

  (`GeneralModel` or `ModelTox`)  
  the model.

- ...:

  model specific parameters.

- grade:

  (`integer`)  
  the toxicity grade for which the dose function is required

## Value

A [`prob()`](https://openpharma.github.io/crmPack/reference/prob.md)
function that computes toxicity probabilities.

## Functions

- `probFunction(GeneralModel)`:

- `probFunction(ModelTox)`:

- `probFunction(LogisticLogNormalOrdinal)`:

## See also

[`prob()`](https://openpharma.github.io/crmPack/reference/prob.md),
[`doseFunction()`](https://openpharma.github.io/crmPack/reference/doseFunction.md).

## Examples

``` r
my_model <- LogisticLogNormal(
  mean = c(-0.85, 1),
  cov = matrix(c(1, -0.5, -0.5, 1), nrow = 2),
  ref_dose = 50
)

prob_fun <- probFunction(my_model, alpha0 = 2, alpha1 = 3)
prob_fun(30)
#> [1] 0.6147973
ordinal_data <- .DefaultDataOrdinal()
ordinal_model <- .DefaultLogisticLogNormalOrdinal()
opts <- .DefaultMcmcOptions()
samples <- mcmc(ordinal_data, ordinal_model, opts)

probFunction(
  ordinal_model,
  grade = 2L,
  alpha2 = samples@data$alpha1,
  beta = samples@data$beta
)(50)
#>    [1] 0.136186901 0.329557801 0.324216250 0.420231992 0.436137200 0.125920514
#>    [7] 0.340320660 0.379185435 0.614554674 0.672237933 0.255443189 0.111321664
#>   [13] 0.205889972 0.433675681 0.227339873 0.084877333 0.261180839 0.101740715
#>   [19] 0.447982428 0.276427149 0.176272612 0.222258549 0.317207705 0.087791296
#>   [25] 0.287938126 0.386423300 0.041704062 0.032364269 0.165814392 0.264956200
#>   [31] 0.341848828 0.299773391 0.103354149 0.230940185 0.156974693 0.180424546
#>   [37] 0.149158462 0.339057756 0.578568617 0.544057605 0.288790372 0.046937942
#>   [43] 0.072314357 0.489444433 0.285342489 0.135143214 0.405821562 0.183059118
#>   [49] 0.154149012 0.152710448 0.173123000 0.080246535 0.326267589 0.316062991
#>   [55] 0.355346210 0.393223989 0.375983632 0.270446987 0.283729352 0.450573956
#>   [61] 0.182990445 0.175650491 0.116026945 0.174154894 0.578880776 0.258411818
#>   [67] 0.387718469 0.521720719 0.591172827 0.174813397 0.181899777 0.328813729
#>   [73] 0.260282356 0.207909662 0.223539265 0.251182266 0.643700870 0.064382245
#>   [79] 0.086070719 0.293961868 0.412980948 0.404214843 0.098508576 0.433987019
#>   [85] 0.255869306 0.461107726 0.208754891 0.375272220 0.227586091 0.472128868
#>   [91] 0.360967811 0.244992440 0.458148658 0.213584553 0.121078429 0.197198378
#>   [97] 0.588326618 0.368108125 0.302605750 0.104822425 0.093973105 0.094808897
#>  [103] 0.199382381 0.444766865 0.134883648 0.083888187 0.063632012 0.137746302
#>  [109] 0.283624332 0.279213581 0.106571161 0.567779531 0.468878939 0.193122078
#>  [115] 0.258323841 0.129505957 0.454345075 0.114533071 0.203299820 0.121332016
#>  [121] 0.460555906 0.125743611 0.373700682 0.362563794 0.471703307 0.448245359
#>  [127] 0.186398367 0.487345838 0.384645614 0.320016278 0.054789402 0.090246876
#>  [133] 0.134605204 0.257481571 0.391132236 0.104159859 0.551228756 0.357862832
#>  [139] 0.145344388 0.147319280 0.132936078 0.044435396 0.338807504 0.142507989
#>  [145] 0.240048602 0.194767473 0.182183933 0.330562526 0.300838904 0.048550606
#>  [151] 0.070519964 0.037398913 0.205558052 0.304448127 0.117070532 0.398503089
#>  [157] 0.400409622 0.228594110 0.033344626 0.503916265 0.317534773 0.255345855
#>  [163] 0.044798736 0.166386945 0.106359586 0.355008062 0.165315386 0.205097550
#>  [169] 0.056251583 0.617392352 0.489498513 0.103014186 0.152976094 0.402632414
#>  [175] 0.176648205 0.420137831 0.253854113 0.389158119 0.146473698 0.559831140
#>  [181] 0.072058782 0.048824986 0.045553520 0.291763936 0.239545175 0.265483278
#>  [187] 0.105284573 0.066827402 0.065200327 0.238226975 0.340112723 0.309257765
#>  [193] 0.109477946 0.205078032 0.473590258 0.221963693 0.343936228 0.370940108
#>  [199] 0.242003139 0.188343603 0.185098889 0.101579268 0.144682550 0.048173275
#>  [205] 0.154509384 0.027867960 0.024702667 0.053859968 0.027368198 0.142631205
#>  [211] 0.182457245 0.270700312 0.572544031 0.415683938 0.385426805 0.127674310
#>  [217] 0.372251522 0.145150062 0.016232178 0.124029287 0.194263490 0.148527833
#>  [223] 0.052682774 0.084177771 0.114862320 0.314867042 0.323084728 0.248314906
#>  [229] 0.180395922 0.297214240 0.182553791 0.258311686 0.308849902 0.113522143
#>  [235] 0.369106820 0.444979057 0.116014617 0.125953235 0.364249375 0.250590130
#>  [241] 0.342516434 0.377691145 0.167913087 0.712914525 0.275303890 0.135927814
#>  [247] 0.614389517 0.298808787 0.049720307 0.208569631 0.516454050 0.136749664
#>  [253] 0.144971159 0.076260779 0.088993018 0.076960463 0.149596261 0.009127560
#>  [259] 0.047409191 0.075296488 0.223948388 0.204689022 0.167581479 0.400179702
#>  [265] 0.129880725 0.072913213 0.116047143 0.432212356 0.178406319 0.205417366
#>  [271] 0.183562727 0.468582845 0.334773812 0.511609432 0.303172379 0.277660037
#>  [277] 0.605419913 0.156401092 0.302925437 0.153718082 0.091901356 0.089761163
#>  [283] 0.468075844 0.125586555 0.479540095 0.439841298 0.073857638 0.088518948
#>  [289] 0.267103024 0.310007106 0.182819821 0.220504843 0.282940708 0.095149683
#>  [295] 0.272987147 0.252942062 0.067518229 0.045176781 0.069979337 0.279074922
#>  [301] 0.225335160 0.230301251 0.100664550 0.062335171 0.151366384 0.118819385
#>  [307] 0.273238441 0.169873212 0.543058100 0.217691249 0.116406204 0.310063049
#>  [313] 0.272226800 0.284260600 0.247764356 0.208586352 0.303714083 0.054657055
#>  [319] 0.165372885 0.210483337 0.094927849 0.172685776 0.023878890 0.493732384
#>  [325] 0.094471708 0.053861115 0.199819687 0.058067678 0.085974220 0.012221238
#>  [331] 0.371615231 0.281515394 0.462678164 0.505191235 0.539014790 0.526504227
#>  [337] 0.379527116 0.183750772 0.282513819 0.451991044 0.338223637 0.233618836
#>  [343] 0.079882172 0.267912517 0.097636764 0.198211550 0.246175476 0.498242631
#>  [349] 0.068051811 0.016234034 0.144063646 0.257266612 0.263483204 0.084379552
#>  [355] 0.077298537 0.173700892 0.047649939 0.310346267 0.220800960 0.089892750
#>  [361] 0.055826851 0.055097832 0.154601344 0.212434946 0.142018193 0.284076544
#>  [367] 0.207177869 0.337489199 0.224437711 0.155023183 0.287227978 0.609689012
#>  [373] 0.537977271 0.303410607 0.309712836 0.331928766 0.432865674 0.481951558
#>  [379] 0.157830485 0.322983569 0.293004087 0.121033123 0.176039995 0.066108510
#>  [385] 0.310329265 0.430944057 0.295793902 0.494719450 0.435890883 0.186643344
#>  [391] 0.243547462 0.301531499 0.163649577 0.224211593 0.181286071 0.339069563
#>  [397] 0.182556670 0.200151177 0.159358461 0.294015279 0.320398307 0.369550290
#>  [403] 0.487058765 0.606692781 0.597928591 0.554103155 0.072513521 0.120705890
#>  [409] 0.620563167 0.138222725 0.373973327 0.703916940 0.093156354 0.097886855
#>  [415] 0.289210225 0.268533540 0.151618275 0.110190295 0.044756648 0.325669557
#>  [421] 0.247206757 0.172895499 0.108758930 0.193819699 0.384606486 0.379223367
#>  [427] 0.251044627 0.179111944 0.350466303 0.360015422 0.140965703 0.378300291
#>  [433] 0.234599395 0.219004123 0.177531207 0.288010461 0.273309508 0.145968024
#>  [439] 0.032819862 0.029012093 0.067003700 0.289922317 0.222130177 0.409216751
#>  [445] 0.265333445 0.203527122 0.221270112 0.135656882 0.049765137 0.058343724
#>  [451] 0.104342105 0.195781120 0.066910705 0.175468193 0.252992781 0.156785281
#>  [457] 0.298944742 0.248842499 0.323431613 0.150671003 0.145588626 0.119873358
#>  [463] 0.501483374 0.164767353 0.165734205 0.224378998 0.485510679 0.278639697
#>  [469] 0.439779602 0.634069240 0.698909929 0.547504202 0.341213328 0.359194454
#>  [475] 0.411387290 0.484791892 0.237161518 0.186111267 0.064305691 0.052596814
#>  [481] 0.104538803 0.268135854 0.159530025 0.270484344 0.089324788 0.346649319
#>  [487] 0.134580903 0.344416555 0.146741817 0.206223175 0.217836587 0.063778780
#>  [493] 0.086322764 0.165016131 0.421961529 0.449347421 0.214696373 0.071313372
#>  [499] 0.256353495 0.085590901 0.042017327 0.146698588 0.235864569 0.176777320
#>  [505] 0.279673403 0.059784282 0.170294399 0.027863180 0.098587041 0.251347709
#>  [511] 0.114083267 0.109881211 0.242515156 0.511352812 0.507482941 0.655973238
#>  [517] 0.537336209 0.140815081 0.192217042 0.161497316 0.146862576 0.135751415
#>  [523] 0.634515943 0.256325572 0.189369103 0.277958236 0.046265583 0.192636547
#>  [529] 0.191059033 0.260395933 0.115681528 0.203233251 0.369275669 0.205610271
#>  [535] 0.260004620 0.626751534 0.229776294 0.445362497 0.239896791 0.252118434
#>  [541] 0.397206343 0.324900820 0.426980212 0.173781872 0.181038255 0.157505838
#>  [547] 0.189273457 0.430926761 0.286790317 0.125808990 0.259000397 0.317892397
#>  [553] 0.425225072 0.406146898 0.413713196 0.270105850 0.349367396 0.589201455
#>  [559] 0.050701921 0.183614305 0.256475455 0.320050541 0.178696322 0.388786643
#>  [565] 0.207770072 0.065065677 0.631582885 0.259017206 0.173981106 0.220487115
#>  [571] 0.369180816 0.412361034 0.176776909 0.205967174 0.288386781 0.173130702
#>  [577] 0.228672797 0.071214875 0.060413684 0.261121083 0.159920769 0.267886095
#>  [583] 0.051566050 0.050281871 0.408184028 0.234034951 0.320275914 0.226009431
#>  [589] 0.117450856 0.041352256 0.025889355 0.487954876 0.075732390 0.068356812
#>  [595] 0.125407366 0.060446292 0.511081669 0.127716224 0.127745946 0.396150216
#>  [601] 0.490614262 0.482493654 0.063043153 0.110824491 0.147907456 0.103637984
#>  [607] 0.123365193 0.072203606 0.333230272 0.245358552 0.149188646 0.390675152
#>  [613] 0.324088798 0.092859524 0.104371603 0.066410685 0.091983070 0.288572992
#>  [619] 0.372203593 0.134491210 0.241117952 0.173492231 0.145805207 0.359147321
#>  [625] 0.283346983 0.132600117 0.144601562 0.266758016 0.322889096 0.408349834
#>  [631] 0.335758955 0.063971835 0.307872187 0.467325617 0.156950962 0.172286546
#>  [637] 0.104737868 0.086451369 0.060314595 0.114988388 0.183394335 0.266904530
#>  [643] 0.113737985 0.440120229 0.177765199 0.238629987 0.222013289 0.290633204
#>  [649] 0.333639536 0.295446463 0.290269471 0.404093803 0.417131556 0.379385081
#>  [655] 0.356278055 0.103649328 0.154342684 0.469939354 0.178626751 0.056205178
#>  [661] 0.305476194 0.579081275 0.073818327 0.196198023 0.162818304 0.356942754
#>  [667] 0.309090980 0.349577058 0.035467418 0.132130406 0.208153832 0.342378228
#>  [673] 0.314447788 0.311840763 0.149705314 0.108245101 0.091531533 0.067838907
#>  [679] 0.485541635 0.223820525 0.166748295 0.199461806 0.232608595 0.055981111
#>  [685] 0.156198845 0.329332884 0.254352241 0.242640047 0.076524267 0.053114706
#>  [691] 0.353696257 0.172118119 0.328295623 0.471355529 0.119629486 0.282949408
#>  [697] 0.116877655 0.081703149 0.107217419 0.202965267 0.555263233 0.639471832
#>  [703] 0.424970937 0.370069844 0.263726032 0.114457815 0.415066255 0.239363656
#>  [709] 0.218158649 0.114087313 0.292061051 0.149514776 0.354473455 0.339791726
#>  [715] 0.227439703 0.423727938 0.286416241 0.287028528 0.254932502 0.373865590
#>  [721] 0.247995645 0.198510448 0.252107100 0.346428172 0.450494195 0.104194197
#>  [727] 0.372904824 0.308719369 0.320849521 0.269706125 0.502977550 0.156696049
#>  [733] 0.119485337 0.263620552 0.222441628 0.111020357 0.108600729 0.239286564
#>  [739] 0.150074809 0.167393913 0.202327259 0.169911593 0.143471860 0.099847913
#>  [745] 0.276724648 0.333798803 0.276865223 0.296555900 0.622329131 0.119944585
#>  [751] 0.054232091 0.248807871 0.208092531 0.280472574 0.375333710 0.277318377
#>  [757] 0.430330098 0.248978728 0.155562684 0.041049353 0.024529230 0.042594527
#>  [763] 0.340550556 0.254507443 0.504000783 0.287081549 0.178069357 0.148826571
#>  [769] 0.418200586 0.194490176 0.528283750 0.334286718 0.275022687 0.317880447
#>  [775] 0.165150956 0.169493561 0.086377353 0.302390854 0.007807550 0.008463676
#>  [781] 0.022552900 0.205932408 0.284041440 0.142748222 0.251760781 0.177254194
#>  [787] 0.158548207 0.111157173 0.423843386 0.197180518 0.461690050 0.298774172
#>  [793] 0.288070609 0.310769305 0.091759866 0.399290494 0.281787260 0.273138730
#>  [799] 0.308756430 0.070521769 0.100625748 0.477527499 0.519754336 0.270423143
#>  [805] 0.389835427 0.249485344 0.357697881 0.297664930 0.240533023 0.196596135
#>  [811] 0.492364025 0.197113235 0.195116159 0.198599267 0.164497295 0.079053058
#>  [817] 0.033444890 0.055298974 0.202733058 0.092945151 0.488418359 0.127041866
#>  [823] 0.148622659 0.440723316 0.273853689 0.322934868 0.304827947 0.257342323
#>  [829] 0.016765257 0.006105750 0.159497048 0.336279888 0.424876618 0.141939503
#>  [835] 0.045242204 0.050353272 0.321457658 0.245972856 0.347637011 0.323395525
#>  [841] 0.459230957 0.305888681 0.295710168 0.309226449 0.297135833 0.154936723
#>  [847] 0.378521313 0.275144082 0.278311785 0.398648875 0.284079969 0.120093261
#>  [853] 0.172307056 0.348783859 0.414420773 0.206174647 0.258722014 0.175956529
#>  [859] 0.539593894 0.195823690 0.183625152 0.417164536 0.132305031 0.293440034
#>  [865] 0.297025627 0.136779187 0.365303450 0.293619183 0.537451152 0.239283154
#>  [871] 0.092852308 0.252603336 0.290131544 0.053448142 0.177527491 0.530609347
#>  [877] 0.099191829 0.217509879 0.280921388 0.208218660 0.127151876 0.011007797
#>  [883] 0.009534372 0.013876461 0.021751170 0.060314352 0.293600149 0.098568520
#>  [889] 0.039059150 0.152794691 0.038962648 0.139463480 0.410234640 0.338028718
#>  [895] 0.316185372 0.122299358 0.109748479 0.461617818 0.061902719 0.081438764
#>  [901] 0.601241864 0.063341134 0.484414892 0.059037145 0.055715899 0.055588351
#>  [907] 0.018754050 0.336391007 0.034484567 0.162085339 0.206007412 0.215286675
#>  [913] 0.145351636 0.276126634 0.142291432 0.122081572 0.373355175 0.286310116
#>  [919] 0.143148638 0.186420295 0.198227697 0.204106044 0.238399685 0.334470686
#>  [925] 0.219502117 0.128259703 0.159001355 0.088510064 0.109791687 0.164747429
#>  [931] 0.170183794 0.057092706 0.155704007 0.127616600 0.416188587 0.482924497
#>  [937] 0.076486476 0.175966109 0.451505781 0.122333413 0.147354133 0.157500430
#>  [943] 0.188747478 0.155698980 0.103329000 0.111644140 0.213529659 0.686387193
#>  [949] 0.082733135 0.051581893 0.168956936 0.227168880 0.116851429 0.133128018
#>  [955] 0.052567013 0.310976882 0.128521534 0.147286700 0.214450442 0.266440116
#>  [961] 0.275988727 0.368371346 0.114828573 0.093877223 0.258652223 0.333926767
#>  [967] 0.160051150 0.246810424 0.256605309 0.185372103 0.176071731 0.373331483
#>  [973] 0.375626268 0.236317938 0.168308381 0.198263719 0.049301757 0.043843480
#>  [979] 0.298140636 0.347562234 0.107942101 0.313010949 0.403850217 0.132208407
#>  [985] 0.079152726 0.343789666 0.404792107 0.197731344 0.240534653 0.113585881
#>  [991] 0.091306006 0.058824932 0.150741727 0.096279637 0.399120907 0.057524221
#>  [997] 0.057151724 0.148955404 0.236396770 0.450642577
```
